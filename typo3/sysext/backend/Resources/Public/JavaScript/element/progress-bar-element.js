/*
 * This file is part of the TYPO3 CMS project.
 *
 * It is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License, either version 2
 * of the License, or any later version.
 *
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
 *
 * The TYPO3 project - inspiring people to share!
 */
import{LitElement as g,css as u,nothing as p,html as b}from"lit";import{property as c,customElement as v}from"lit/decorators.js";import{classMap as m}from"lit/directives/class-map.js";import{styleMap as h}from"lit/directives/style-map.js";import f from"@typo3/backend/severity.js";import"@typo3/backend/enum/severity.js";var i=function(n,r,o,e){var a=arguments.length,s=a<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,o):e,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,r,o,e);else for(var d=n.length-1;d>=0;d--)(l=n[d])&&(s=(a<3?l(s):a>3?l(r,o,s):l(r,o))||s);return a>3&&s&&Object.defineProperty(r,o,s),s};let t=class extends g{constructor(){super(...arguments),this.value=void 0,this.max=100,this.severity=void 0}static{this.styles=u`@keyframes progress-indeterminate{0%{inset-inline-start:-33%}to{inset-inline-start:100%}}:host{--progress-bar-height:4px;--progress-bar-color-primary:var(--typo3-state-primary-border-color);--progress-bar-color-success:var(--typo3-state-success-border-color);--progress-bar-color-warning:var(--typo3-state-warning-border-color);--progress-bar-color-danger:var(--typo3-state-danger-border-color);--progress-bar-color-info:var(--typo3-state-info-border-color);--progress-bar-color:var(--progress-bar-color-primary);--progress-track-color:light-dark(var(--token-color-neutral-20),var(--token-color-neutral-80));--progress-border-radius:var(--typo3-component-border-radius);display:block;width:100%;border-radius:var(--progress-border-radius)}.progress{position:relative;overflow:hidden;height:var(--progress-bar-height);border-radius:var(--progress-border-radius)}.track{background:var(--progress-track-color);inset:0}.bar{background:var(--progress-bar-color);transition:width .5s ease-in-out;&.bar-success{--progress-bar-color:var(--progress-bar-color-success)}&.bar-warning{--progress-bar-color:var(--progress-bar-color-warning)}&.bar-danger{--progress-bar-color:var(--progress-bar-color-danger)}&.bar-info{--progress-bar-color:var(--progress-bar-color-info)}&.indeterminate{animation-name:progress-indeterminate;animation-duration:3s;animation-iteration-count:infinite;animation-timing-function:linear;width:33%;background-image:linear-gradient(to right,var(--progress-track-color) 0,transparent 50%,var(--progress-track-color) 100%)}}.bar,.track{position:absolute;height:var(--progress-bar-height);border-radius:var(--progress-border-radius)}.label{margin-top:.5rem}`}render(){const r="progress-label-"+(Math.random()+1).toString(36).substring(2),o=this.label!==void 0&&this.label,e=isNaN(this.value),a=m({bar:!0,["bar-"+f.getCssClass(this.severity)]:!e&&this.severity!==void 0,indeterminate:e}),s=e?p:h({width:(this.clamp(this.value,0,this.max)/this.max*100).toString()+"%"});return b`<div class=progress-wrapper><div role=progressbar class=progress aria-valuenow=${e?p:this.value} aria-valuemin=0 aria-valuemax=${this.max} aria-describedby=${o?r:p}><div class=track></div><div class=${a} style=${s}></div></div>${o?b`<div class=label id=${r}>${this.label}</div>`:p}</div>`}clamp(r,o,e){return Math.min(e,Math.max(o,r))}};i([c({type:Number,reflect:!0})],t.prototype,"value",void 0),i([c({type:Number,reflect:!0})],t.prototype,"max",void 0),i([c({type:Number,reflect:!0})],t.prototype,"severity",void 0),i([c({type:String,reflect:!0})],t.prototype,"label",void 0),t=i([v("typo3-backend-progress-bar")],t);export{t as ProgressBarElement};
