/*
 * This file is part of the TYPO3 CMS project.
 *
 * It is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License, either version 2
 * of the License, or any later version.
 *
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
 *
 * The TYPO3 project - inspiring people to share!
 */
import{LitElement as g,css as m,nothing as p,html as d}from"lit";import{property as c,customElement as v}from"lit/decorators.js";import{classMap as u}from"lit/directives/class-map.js";import{styleMap as h}from"lit/directives/style-map.js";import f from"@typo3/backend/severity.js";import{SeverityEnum as y}from"@typo3/backend/enum/severity.js";var n=function(l,r,t,e){var i=arguments.length,a=i<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(l,r,t,e);else for(var b=l.length-1;b>=0;b--)(o=l[b])&&(a=(i<3?o(a):i>3?o(r,t,a):o(r,t))||a);return i>3&&a&&Object.defineProperty(r,t,a),a};let s=class extends g{constructor(){super(...arguments),this.value=void 0,this.max=100,this.severity=y.info}static{this.styles=m`@keyframes progress-indeterminate{0%{inset-inline-start:-33%}to{inset-inline-start:100%}}:host{--progress-bar-height:3px;--progress-track-bg-color:light-dark(var(--bs-gray-300),var(--bs-gray-800));display:block;width:100%;border-radius:var(--typo3-component-border-radius)}.progress{position:relative;overflow:hidden;height:var(--progress-bar-height);border-radius:var(--typo3-component-border-radius)}.track{background:var(--progress-track-bg-color);inset:0}.bar{--progress-bar-bg-color:var(--typo3-component-primary-color);background:var(--progress-bar-bg-color);transition:width .5s ease-in-out;&.bar-success{--progress-bar-bg-color:var(--bs-success)}&.bar-warning{--progress-bar-bg-color:var(--bs-warning)}&.bar-danger{--progress-bar-bg-color:var(--bs-danger)}&.indeterminate{animation-name:progress-indeterminate;animation-duration:3s;animation-iteration-count:infinite;animation-timing-function:linear;width:33%;background-image:linear-gradient(to right,var(--progress-track-bg-color) 0,transparent 50%,var(--progress-track-bg-color) 100%)}}.bar,.track{position:absolute;height:var(--progress-bar-height);border-radius:var(--typo3-component-border-radius)}.label{margin-top:2px}`}render(){const r="progress-label-"+(Math.random()+1).toString(36).substring(2),t=this.label!==void 0&&this.label,e=isNaN(this.value),i="bar-"+f.getCssClass(this.severity),a=u({bar:!0,[i]:!e,indeterminate:e}),o=e?p:h({width:(this.clamp(this.value,0,this.max)/this.max*100).toString()+"%"});return d`<div class=progress-wrapper><div role=progressbar class=progress aria-valuenow=${e?p:this.value} aria-valuemin=0 aria-valuemax=${this.max} aria-describedby=${t?r:p}><div class=track></div><div class=${a} style=${o}></div></div>${t?d`<div class=label id=${r}>${this.label}</div>`:p}</div>`}clamp(r,t,e){return Math.min(e,Math.max(t,r))}};n([c({type:Number,reflect:!0})],s.prototype,"value",void 0),n([c({type:Number,reflect:!0})],s.prototype,"max",void 0),n([c({type:Number,reflect:!0})],s.prototype,"severity",void 0),n([c({type:String,reflect:!0})],s.prototype,"label",void 0),s=n([v("typo3-backend-progress-bar")],s);export{s as ProgressBarElement};
