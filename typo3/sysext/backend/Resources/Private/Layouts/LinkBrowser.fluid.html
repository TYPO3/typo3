<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers"
    data-namespace-typo3-fluid="true"
>

<f:asset.module identifier="@typo3/backend/viewport/content-navigation.js"/>

<f:if condition="{contentOnly}">
    <f:then>
        <f:render section="Content" />
    </f:then>
    <f:else>
        <div class="element-browser">
            <f:if condition="{currentUrl}">
                <div class="element-browser-header">
                    <div class="element-browser-header-title">
                        <strong><f:translate key="LLL:EXT:backend/Resources/Private/Language/locallang_browse_links.xlf:currentLink" />:</strong>
                        {currentUrl}
                    </div>
                    <f:if condition="{removeCurrentLink}">
                        <div class="element-browser-header-actions">
                            <button class="btn btn-sm btn-default t3js-removeCurrentLink">
                                <core:icon identifier="actions-delete" />
                                <f:translate key="LLL:EXT:backend/Resources/Private/Language/locallang_browse_links.xlf:removeLink" />
                            </button>
                        </div>
                    </f:if>
                </div>
            </f:if>
            <div class="element-browser-nav">
                <ul class="nav nav-pills" role="tablist">
                    <f:for each="{menuItems}" as="menuItem" key="menuId">
                        <li class="nav-item" role="presentation">
                            <a href="{menuItem.url}"
                                class="nav-link {f:if(condition: menuItem.isActive, then: 'active')}"
                                role="tab"
                                aria-selected="{f:if(condition: menuItem.isActive, then: 'true', else: 'false')}"
                                {menuItem.addParams -> f:format.raw()}
                            >
                                {menuItem.label}
                            </a>
                        </li>
                    </f:for>
                </ul>
            </div>

            <f:if condition="{initialNavigationWidth}"><f:else><f:variable name="initialNavigationWidth">250</f:variable></f:else></f:if>
            <f:variable name="navigationContent"><f:render section="Navigation" optional="true" /></f:variable>
            <f:if condition="{navigationContent}">
                <f:then>
                    <typo3-backend-content-navigation
                        identifier="linkbrowser"
                        class="element-browser-main"
                        navigation-title="{f:translate(key: 'viewport.navigation', domain: 'backend.messages')}"
                        navigation-label-collapse="{f:translate(key: 'viewport.navigation.hide', domain: 'backend.messages')}"
                        navigation-label-expand="{f:translate(key: 'viewport.navigation.show', domain: 'backend.messages')}"
                        navigation-initial-width="{initialNavigationWidth}"
                    >
                        <div slot="navigation" class="element-browser-main-sidebar">
                            {navigationContent-> f:format.raw()}
                        </div>
                        <div slot="content" class="element-browser-main-content">
                            <div class="element-browser-navigation-toggle">
                                <typo3-backend-content-navigation-toggle
                                    class="btn btn-sm btn-icon btn-default btn-borderless"
                                    action="expand"
                                    hidden
                                >
                                </typo3-backend-content-navigation-toggle>
                            </div>
                            <div class="element-browser-attributes">
                                <f:format.raw>{linkAttributes}</f:format.raw>
                                <f:if condition="{showUpdateParametersButton}">
                                    <button class="btn btn-default t3js-linkCurrent" type="submit">
                                        {f:translate(key: 'LLL:EXT:backend/Resources/Private/Language/locallang_browse_links.xlf:update')}
                                    </button>
                                </f:if>
                            </div>
                            <div class="element-browser-body">
                                <f:flashMessages queueIdentifier="core.template.flashMessages" />
                                <f:render section="Content" />
                            </div>
                        </div>
                    </typo3-backend-content-navigation>
                </f:then>
                <f:else>
                    <div class="element-browser-main">
                        <div class="element-browser-main-content">
                            <div class="element-browser-attributes">
                                <f:format.raw>{linkAttributes}</f:format.raw>
                                <f:if condition="{showUpdateParametersButton}">
                                    <button class="btn btn-default t3js-linkCurrent" type="submit">
                                        {f:translate(key: 'LLL:EXT:backend/Resources/Private/Language/locallang_browse_links.xlf:update')}
                                    </button>
                                </f:if>
                            </div>
                            <div class="element-browser-body">
                                <f:flashMessages queueIdentifier="core.template.flashMessages" />
                                <f:render section="Content" />
                            </div>
                        </div>
                    </div>
                </f:else>
            </f:if>

        </div>
    </f:else>
</f:if>

</html>
