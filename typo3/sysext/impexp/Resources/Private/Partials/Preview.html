<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true"
>

<f:if condition="{import.mode} == 'import'">
    <f:then>
        <h2>
            <f:if condition="{inData.import_file}">
                <f:then>
                    <f:if condition="{errors}">
                        <f:then>
                            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:importdata_structureNotImported" />
                        </f:then>
                        <f:else>
                            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:importdata_structureHasBeenImported" />
                        </f:else>
                    </f:if>
                </f:then>
                <f:else>
                    <f:if condition="{inData.file}">
                        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:filterpage_structureToBeImported" />
                    </f:if>
                </f:else>
            </f:if>
        </h2>
    </f:then>
    <f:else>
        <h2>
            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:execlistqu_structureToBeExported" />
        </h2>
    </f:else>
</f:if>

<f:if condition="{inData.excludeDisabled}">
    <f:else>
        <f:if condition="{import.mode} == 'import'">
            <f:else>
                <f:form.button class="btn btn-default t3js-impexp-toggledisabled" type="button">
                    <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_toggle_all_disabled_records" />
                </f:form.button>
            </f:else>
        </f:if>
    </f:else>
</f:if>

<f:if condition="{preview.insidePageTree -> f:count()} > 0">
    <h3>
        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_insidePagetree" />
    </h3>
    <div class="table-fit">
        <table class="table table-striped table-hover t3js-impexp-preview">
            <tbody>
                <tr>
                    <th>
                        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_controls" />
                    </th>
                    <th>
                        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_title" />
                    </th>
                    <th>
                        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_message" />
                    </th>
                    <f:if condition="{preview.update}">
                        <th>
                            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_updateMode" />
                        </th>
                        <th>
                            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_currentPath" />
                        </th>
                    </f:if>
                    <f:if condition="{preview.showDiff}">
                        <th>
                            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_result" />
                        </th>
                    </f:if>
                </tr>
                <f:for each="{preview.insidePageTree}" as="line">
                    <tr data-active="{line.active}">
                        <td>
                            <f:format.raw>{line.controls}</f:format.raw>
                        </td>
                        <td class="col-nowrap">
                            <f:format.raw>{line.preCode} {line.title}</f:format.raw>
                        </td>
                        <td class="col-nowrap">
                            <f:format.raw>{line.message}</f:format.raw>
                        </td>
                        <f:if condition="{preview.update}">
                            <td class="col-nowrap">
                                <f:format.raw>{line.updateMode}</f:format.raw>
                            </td>
                            <td class="col-nowrap">
                                <f:format.raw>{line.updatePath}</f:format.raw>
                            </td>
                        </f:if>
                        <f:if condition="{preview.showDiff}">
                            <td>
                                <f:format.raw>{line.showDiffContent}</f:format.raw>
                            </td>
                        </f:if>
                    </tr>
                </f:for>
            </tbody>
        </table>
    </div>
</f:if>

<f:if condition="{preview.outsidePageTree -> f:count()} > 0">
    <h3>
        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_singlereco_outsidePagetree" />
    </h3>
    <div class="table-fit">
        <table class="table table-striped table-hover t3js-impexp-preview">
            <tbody>
                <tr data-active="{line.active}">
                    <th>
                        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_controls" />
                    </th>
                    <th>
                        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_title" />
                    </th>
                    <th>
                        <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_message" />
                    </th>
                    <f:if condition="{preview.update}">
                        <th>
                            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_updateMode" />
                        </th>
                        <th>
                            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_currentPath" />
                        </th>
                    </f:if>
                    <f:if condition="{preview.showDiff}">
                        <th>
                            <f:translate key="LLL:EXT:impexp/Resources/Private/Language/locallang.xlf:impexpcore_displaycon_result" />
                        </th>
                    </f:if>
                </tr>
                <f:for each="{preview.outsidePageTree}" as="line">
                    <tr>
                        <td>
                            <f:format.raw>{line.controls}</f:format.raw>
                        </td>
                        <td class="col-nowrap">
                            <f:format.raw>{line.preCode} {line.title}</f:format.raw>
                        </td>
                        <td class="col-nowrap">
                            <f:format.raw>{line.message}</f:format.raw>
                        </td>
                        <f:if condition="{preview.update}">
                            <td class="col-nowrap">
                                <f:format.raw>{line.updateMode}</f:format.raw>
                            </td>
                            <td class="col-nowrap">
                                <f:format.raw>{line.updatePath}</f:format.raw>
                            </td>
                        </f:if>
                        <f:if condition="{preview.showDiff}">
                            <td>
                                <f:format.raw>{line.showDiffContent}</f:format.raw>
                            </td>
                        </f:if>
                    </tr>
                </f:for>
            </tbody>
        </table>
    </div>
</f:if>

</html>
