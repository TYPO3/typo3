{namespace i=TYPO3\CMS\Install\ViewHelpers}

<f:layout name="Step" />

<f:section name="Content">
	<h3>Select database</h3>

	You have two options:

	<form method="post" id="stepInstaller-databaseSelect">
		<f:render partial="Action/Common/HiddenFormFields" arguments="{_all}" />
		<input type="hidden" value="execute" name="install[set]" />

		<fieldset>
			<ul>
				<li>
					<f:if condition="{databaseCreateAllowed}">
						<f:then>
							<input
								id="t3-install-form-db-select-type-new"
								type="radio"
								name="install[values][type]"
								value="new"
								checked="checked"
								class="radio"
							/>
							<div>
								<label for="t3-install-step-database-new">Create a new database (recommended):</label>
								<p>Enter a name for your TYPO3 database.</p>
								<input
									id="t3-install-step-database-new"
									class="t3-install-form-input-text"
									type="text"
									name="install[values][new]"
									checked="checked"
									onfocus="document.getElementById('t3-install-form-db-select-type-new').checked=true;"
								/>
							</div>
						</f:then>
						<f:else>
							<input
								id="t3-install-form-db-select-type-new"
								type="radio"
								name="install[values][type]"
								value="new"
								disabled="disabled"
								class="radio"
							/>
							<div>
								<label for="t3-install-step-database-new">Create a new database (recommended):</label>
								<p>Database-user is not allowed to create a new database.</p>
							</div>
						</f:else>
					</f:if>
				</li>

				<li>
					<input
						id="t3-install-form-db-select-type-existing"
						type="radio"
						name="install[values][type]"
						value="existing"
						<f:if condition="{databaseCreateAllowed}">
							<f:then></f:then>
							<f:else>checked="checked"</f:else>
						</f:if>
						class="radio"
					/>
					<div>
						<label for="t3-install-step-database-existing">Select an EMPTY existing database:</label>
						<p>Any tables used by TYPO3 will be overwritten.</p>
						<select
							id="t3-install-step-database-existing"
							name="install[values][existing]"
							onfocus="document.getElementById('t3-install-form-db-select-type-existing').checked=true;"
						>
							<option value="">Select database</option>
							<f:for each="{databaseList}" as="database">
								<option value="{database}">{database}</option>
							</f:for>
						</select>
					</div>
				</li>
			</ul>
		</fieldset>

		<button type="submit">
			Continue
			<span class="t3-install-form-button-icon-positive">&nbsp;</span>
		</button>
	</form>
</f:section>