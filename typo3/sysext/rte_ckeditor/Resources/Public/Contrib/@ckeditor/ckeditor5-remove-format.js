import{Plugin as a,Command as l}from"@ckeditor/ckeditor5-core";import{IconRemoveFormat as d}from"@ckeditor/ckeditor5-icons";import{ButtonView as f,MenuBarMenuListItemButtonView as F}from"@ckeditor/ckeditor5-ui";import{first as c}from"@ckeditor/ckeditor5-utils";/**
* @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/const n="removeFormat";class u extends a{static get pluginName(){return"RemoveFormatUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add(n,()=>{const e=this._createButton(f);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add(`menuBar:${n}`,()=>this._createButton(F))}_createButton(t){const e=this.editor,i=e.locale,o=e.commands.get(n),r=new t(e.locale),m=i.t;return r.set({label:m("Remove Format"),icon:d}),r.bind("isEnabled").to(o,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute(n),e.editing.view.focus()}),r}}/**
* @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class b extends l{refresh(){const t=this.editor.model;this.isEnabled=!!c(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model,e=t.schema;t.change(i=>{for(const o of this._getFormattingItems(t.document.selection,e))if(o.is("selection"))for(const r of this._getFormattingAttributes(o,e))i.removeSelectionAttribute(r);else{const r=i.createRangeOn(o);for(const m of this._getFormattingAttributes(o,e))i.removeAttribute(m,r)}})}*_getFormattingItems(t,e){const i=o=>!!c(this._getFormattingAttributes(o,e));for(const o of t.getRanges())for(const r of o.getItems())!e.isBlock(r)&&i(r)&&(yield r);for(const o of t.getSelectedBlocks())i(o)&&(yield o);i(t)&&(yield t)}*_getFormattingAttributes(t,e){for(const[i]of t.getAttributes()){const o=e.getAttributeProperties(i);o&&o.isFormatting&&(yield i)}}}/**
* @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class g extends a{static get pluginName(){return"RemoveFormatEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.commands.add("removeFormat",new b(t))}}/**
* @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class h extends a{static get requires(){return[g,u]}static get pluginName(){return"RemoveFormat"}static get isOfficialPlugin(){return!0}}export{h as RemoveFormat,g as RemoveFormatEditing,u as RemoveFormatUI};
