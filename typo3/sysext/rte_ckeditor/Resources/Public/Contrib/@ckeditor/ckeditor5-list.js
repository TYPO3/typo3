import{Command as g,Plugin as h,icons as x}from"@ckeditor/ckeditor5-core";import{Delete as It}from"@ckeditor/ckeditor5-typing";import{Enter as yt}from"@ckeditor/ckeditor5-enter";import{toArray as L,first as _,uid as xe,CKEditorError as Ce,FocusTracker as vt,KeystrokeHandler as wt,global as Ee,getCode as kt,parseKeystroke as At,getLocalizedArrowKeyCodeDirection as Lt,createElement as Pe,logWarning as Q}from"@ckeditor/ckeditor5-utils";import{ClipboardPipeline as Ve}from"@ckeditor/ckeditor5-clipboard";import{ButtonView as Tt,MenuBarMenuListItemButtonView as Be,View as _t,ViewCollection as Ne,FocusCycler as Re,addKeyboardHandlingForGrid as ze,CollapsibleView as Oe,LabeledFieldView as Fe,createLabeledInputNumber as Me,SwitchButtonView as De,createDropdown as He,SplitButtonView as Ue,MenuBarMenuView as We,focusChildOnDropdownOpen as $e}from"@ckeditor/ckeditor5-ui";import{DomEventObserver as Ke,Matcher as St,TreeWalker as xt,getFillerOffset as qe}from"@ckeditor/ckeditor5-engine";/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class y{constructor(t,e){this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward=e.direction=="forward",this._includeSelf=!!e.includeSelf,this._sameAttributes=L(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){const s=new this(t,e)[Symbol.iterator]();return _(s)}*[Symbol.iterator](){const t=[];for(const{node:e}of new R(this._getStartNode(),this._isForward?"forward":"backward")){const i=e.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some(s=>e.getAttribute(s)!==this._startElement.getAttribute(s)))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class R{constructor(t,e="forward"){this._previousNodesByIndent=[],this._previous=null,this._previousNodeIndent=null,this._node=t,this._isForward=e==="forward"}[Symbol.iterator](){return this}next(){if(!p(this._node))return{done:!0,value:void 0};const t=this._node.getAttribute("listIndent");let e=null;if(this._previous){const s=this._previousNodeIndent;t>s?this._previousNodesByIndent[s]=this._previous:t<s?(e=this._previousNodesByIndent[t]||null,this._previousNodesByIndent.length=t):e=this._previous}const i={node:this._node,previous:this._previous,previousNodeInList:e};return this._previous=this._node,this._previousNodeIndent=t,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:i,done:!1}}}class je{constructor(t){this._listHead=t}[Symbol.iterator](){return new R(this._listHead)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class C{static next(){return xe()}}function p(o){return!!o&&o.is("element")&&o.hasAttribute("listItemId")}function E(o,t={}){return[...T(o,{...t,direction:"backward"}),...T(o,{...t,direction:"forward"})]}function T(o,t={}){const e=t.direction=="forward",i=Array.from(new y(o,{...t,includeSelf:e,sameIndent:!0,sameAttributes:"listItemId"}));return e?i:i.reverse()}function Ye(o){return Array.from(new y(o,{direction:"forward",higherIndent:!0}))}function Ct(o,t){const e=new y(o,{sameIndent:!0,sameAttributes:"listType",...t}),i=new y(o,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(e).reverse(),...i]}function k(o){return!y.first(o,{sameIndent:!0,sameAttributes:"listItemId"})}function Et(o){return!y.first(o,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function z(o,t={}){o=L(o);const e=t.withNested!==!1,i=new Set;for(const s of o)for(const n of E(s,{higherIndent:e}))i.add(n);return S(i)}function U(o){o=L(o);const t=new Set;for(const e of o)for(const i of Ct(e))t.add(i);return S(t)}function X(o,t){const e=T(o,{direction:"forward"}),i=C.next();for(const s of e)t.setAttribute("listItemId",i,s);return e}function tt(o,t,e){const i={};for(const[n,r]of t.getAttributes())n.startsWith("list")&&(i[n]=r);const s=T(o,{direction:"forward"});for(const n of s)e.setAttributes(i,n);return s}function et(o,t,{expand:e,indentBy:i=1}={}){o=L(o);const s=e?z(o):o;for(const n of s){const r=n.getAttribute("listIndent")+i;r<0?W(n,t):t.setAttribute("listIndent",r,n)}return s}function Ge(o,t){o=L(o);const e=z(o),i=new Set,s=Math.min(...e.map(r=>r.getAttribute("listIndent"))),n=new Map;for(const r of e)n.set(r,y.first(r,{lowerIndent:!0}));for(const r of e){if(i.has(r))continue;i.add(r);const l=r.getAttribute("listIndent")-1;if(l<0){W(r,t);continue}if(r.getAttribute("listIndent")==s){const c=Je(r,n.get(r),t);for(const a of c)i.add(a);if(c.length)continue}t.setAttribute("listIndent",l,r)}return S(i)}function W(o,t){o=L(o);for(const e of o)e.is("element","listItem")&&t.rename(e,"paragraph");for(const e of o)for(const i of e.getAttributeKeys())i.startsWith("list")&&t.removeAttribute(i,e);return o}function O(o){if(!o.length)return!1;const t=o[0].getAttribute("listItemId");return t?!o.some(e=>e.getAttribute("listItemId")!=t):!1}function Ze(o,t){const e=[];let i=Number.POSITIVE_INFINITY;for(const{node:s}of new R(o.nextSibling)){const n=s.getAttribute("listIndent");if(n==0)break;n<i&&(i=n);const r=n-i;t.setAttribute("listIndent",r,s),e.push(s)}return e}function S(o){return Array.from(o).filter(t=>t.root.rootName!=="$graveyard").sort((t,e)=>t.index-e.index)}function F(o){const t=o.document.selection.getSelectedElement();return t&&o.schema.isObject(t)&&o.schema.isBlock(t)?t:null}function it(o,t){return t.checkChild(o.parent,"listItem")&&t.checkChild(o,"$text")&&!t.isObject(o)}function $(o){return o=="numbered"||o=="customNumbered"}function Je(o,t,e){return T(t,{direction:"forward"}).pop().index>o.index?tt(o,t,e):[]}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class st extends g{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=Pt(t.document.selection);t.change(i=>{const s=[];O(e)&&!k(e[0])?(this._direction=="forward"&&s.push(...et(e,i)),s.push(...X(e[0],i))):this._direction=="forward"?s.push(...et(e,i,{expand:!0})):s.push(...Ge(e,i));for(const n of s){if(!n.hasAttribute("listType"))continue;const r=y.first(n,{sameIndent:!0});r&&i.setAttribute("listType",r.getAttribute("listType"),n)}this._fireAfterExecute(s)})}_fireAfterExecute(t){this.fire("afterExecute",S(new Set(t)))}_checkEnabled(){let t=Pt(this.editor.model.document.selection),e=t[0];if(!e)return!1;if(this._direction=="backward"||O(t)&&!k(t[0]))return!0;t=z(t),e=t[0];const i=y.first(e,{sameIndent:!0});return i?i.getAttribute("listType")==e.getAttribute("listType"):!1}}function Pt(o){const t=Array.from(o.getSelectedBlocks()),e=t.findIndex(i=>!p(i));return e!=-1&&(t.length=e),t}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class P extends g{constructor(t,e,i={}){super(t),this.type=e,this._listWalkerOptions=i.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,i=e.document,s=F(e),n=Array.from(i.selection.getSelectedBlocks()).filter(l=>e.schema.checkAttribute(l,"listType")||it(l,e.schema)),r=t.forceValue!==void 0?!t.forceValue:this.value;e.change(l=>{if(r){const c=n[n.length-1],a=T(c,{direction:"forward"}),u=[];a.length>1&&u.push(...X(a[1],l)),u.push(...W(n,l)),u.push(...Ze(c,l)),this._fireAfterExecute(u)}else if((s||i.selection.isCollapsed)&&p(n[0])){const c=Ct(s||n[0],this._listWalkerOptions);for(const a of c)l.setAttributes({...t.additionalAttributes,listType:this.type},a);this._fireAfterExecute(c)}else{const c=[];for(const a of n)if(!a.hasAttribute("listType"))!a.is("element","listItem")&&it(a,e.schema)&&l.rename(a,"listItem"),l.setAttributes({...t.additionalAttributes,listIndent:0,listItemId:C.next(),listType:this.type},a),c.push(a);else for(const u of z(a,{withNested:!1}))u.getAttribute("listType")!=this.type&&(l.setAttributes({...t.additionalAttributes,listType:this.type},u),c.push(u));this._fireAfterExecute(c)}})}_fireAfterExecute(t){this.fire("afterExecute",S(new Set(t)))}_getValue(){const t=this.editor.model.document.selection,e=Array.from(t.getSelectedBlocks());if(!e.length)return!1;for(const i of e)if(i.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const t=this.editor.model,e=t.schema,i=t.document.selection,s=Array.from(i.getSelectedBlocks());if(!s.length)return!1;if(this.value)return!0;for(const n of s)if(e.checkAttribute(n,"listType")||it(n,e))return!0;return!1}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Vt extends g{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:t=!1}={}){const e=this.editor.model,i=e.document.selection,s=[];e.change(n=>{const{firstElement:r,lastElement:l}=this._getMergeSubjectElements(i,t),c=r.getAttribute("listIndent")||0,a=l.getAttribute("listIndent"),u=l.getAttribute("listItemId");if(c!=a){const d=Ye(l);s.push(...et([l,...d],n,{indentBy:c-a,expand:c<a}))}if(t){let d=i;i.isCollapsed&&(d=n.createSelection(n.createRange(n.createPositionAt(r,"end"),n.createPositionAt(l,0)))),e.deleteContent(d,{doNotResetEntireContent:i.isCollapsed});const m=d.getLastPosition().parent,f=m.nextSibling;s.push(m),f&&f!==l&&f.getAttribute("listItemId")==u&&s.push(...tt(f,m,n))}else s.push(...tt(l,r,n));this._fireAfterExecute(s)})}_fireAfterExecute(t){this.fire("afterExecute",S(new Set(t)))}_checkEnabled(){const t=this.editor.model,e=t.document.selection,i=F(t);if(e.isCollapsed||i){const s=i||e.getFirstPosition().parent;if(!p(s))return!1;const n=this._direction=="backward"?s.previousSibling:s.nextSibling;if(!n||O([s,n]))return!1}else{const s=e.getLastPosition(),n=e.getFirstPosition();if(s.parent===n.parent||!p(s.parent))return!1}return!0}_getMergeSubjectElements(t,e){const i=this.editor.model,s=F(i);let n,r;if(t.isCollapsed||s){const l=s||t.getFirstPosition().parent,c=k(l);this._direction=="backward"?(r=l,c&&!e?n=y.first(l,{sameIndent:!0,lowerIndent:!0}):n=l.previousSibling):(n=l,r=l.nextSibling)}else n=t.getFirstPosition().parent,r=t.getLastPosition().parent;return{firstElement:n,lastElement:r}}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Bt extends g{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const i=X(this._getStartBlock(),e);this._fireAfterExecute(i)})}_fireAfterExecute(t){this.fire("afterExecute",S(new Set(t)))}_checkEnabled(){const t=this.editor.model.document.selection,e=this._getStartBlock();return t.isCollapsed&&p(e)&&!k(e)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Nt extends h{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(t){return U(t)}isFirstBlockOfListItem(t){return k(t)}isListItemBlock(t){return p(t)}expandListBlocksToCompleteItems(t,e={}){return z(t,e)}isNumberedListType(t){return $(t)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function Qe(o){return o.is("element","ol")||o.is("element","ul")}function nt(o){return o.is("element","li")}function Xe(o){let t=0,e=o.parent;for(;e;){if(nt(e))t++;else{const i=e.previousSibling;i&&nt(i)&&t++}e=e.parent}return t}function ti(o,t,e,i=zt(e,t)){return o.createAttributeElement(Rt(e),null,{priority:2*t/100-100,id:i})}function ei(o,t,e){return o.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:e})}function Rt(o){return o=="numbered"||o=="customNumbered"?"ol":"ul"}function zt(o,t){return`list-${o}-${t}`}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function w(o,t){const e=o.nodeBefore;if(p(e)){let i=e;for(const{node:s}of new R(i,"backward"))if(i=s,t.has(i))return;t.set(e,i)}else{const i=o.nodeAfter;p(i)&&t.set(i,i)}}function ii(o,t){let e=0,i=-1,s=null,n=!1;for(const{node:r}of o){const l=r.getAttribute("listIndent");if(l>e){let c;s===null?(s=l-e,c=e):(s>l&&(s=l),c=l-s),c>i+1&&(c=i+1),t.setAttribute("listIndent",c,r),n=!0,i=c}else s=null,e=l+1,i=l}return n}function si(o,t,e){const i=new Set;let s=!1;for(const{node:n}of o){if(i.has(n))continue;let r=n.getAttribute("listType"),l=n.getAttribute("listItemId");if(t.has(l)&&(l=C.next()),t.add(l),n.is("element","listItem")){n.getAttribute("listItemId")!=l&&(e.setAttribute("listItemId",l,n),s=!0);continue}for(const c of T(n,{direction:"forward"}))i.add(c),c.getAttribute("listType")!=r&&(l=C.next(),r=c.getAttribute("listType")),c.getAttribute("listItemId")!=l&&(e.setAttribute("listItemId",l,c),s=!0)}return s}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function ni(){return(o,t,e)=>{const{writer:i,schema:s}=e;if(!t.modelRange)return;const n=Array.from(t.modelRange.getItems({shallow:!0})).filter(d=>s.checkAttribute(d,"listItemId"));if(!n.length)return;const r=C.next(),l=Xe(t.viewItem);let c=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const a=n[0].getAttribute("listType");a&&(c=a);const u={listItemId:r,listIndent:l,listType:c};for(const d of n)d.hasAttribute("listItemId")||i.setAttributes(u,d);n.length>1&&n[1].getAttribute("listItemId")!=u.listItemId&&e.keepEmptyElement(n[0])}}function oi(o,t,e,i){return()=>{const l=o.document.differ.getChanges(),c=[],a=new Map,u=new Set;for(const d of l)if(d.type=="insert"&&d.name!="$text")w(d.position,a),d.attributes.has("listItemId")?u.add(d.position.nodeAfter):w(d.position.getShiftedBy(d.length),a);else if(d.type=="remove"&&d.attributes.has("listItemId"))w(d.position,a);else if(d.type=="attribute"){const m=d.range.start.nodeAfter;e.includes(d.attributeKey)?(w(d.range.start,a),d.attributeNewValue===null?(w(d.range.start.getShiftedBy(1),a),n(m)&&c.push(m)):u.add(m)):p(m)&&n(m)&&c.push(m)}for(const d of a.values())c.push(...s(d,u));for(const d of new Set(c))t.reconvertItem(d)};function s(l,c){const a=[],u=new Set,d=[];for(const{node:m,previous:f}of new R(l)){if(u.has(m))continue;const b=m.getAttribute("listIndent");f&&b<f.getAttribute("listIndent")&&(d.length=b+1),d[b]=Object.fromEntries(Array.from(m.getAttributes()).filter(([I])=>e.includes(I)));const A=T(m,{direction:"forward"});for(const I of A)u.add(I),(n(I,A)||r(I,d,c))&&a.push(I)}return a}function n(l,c){const a=t.mapper.toViewElement(l);if(!a)return!1;if(i.fire("checkElement",{modelElement:l,viewElement:a}))return!0;if(!l.is("element","paragraph")&&!l.is("element","listItem"))return!1;const d=Dt(l,e,c);return d&&a.is("element","p")?!0:!!(!d&&a.is("element","span"))}function r(l,c,a){if(a.has(l))return!1;const u=t.mapper.toViewElement(l);let d=c.length-1;for(let m=u.parent;!m.is("editableElement");m=m.parent){const f=nt(m),b=Qe(m);if(!b&&!f)continue;const A=`checkAttributes:${f?"item":"list"}`;if(i.fire(A,{viewElement:m,modelAttributes:c[d]}))break;if(b&&(d--,d<0))return!1}return!0}}function Ot(o,t,e,{dataPipeline:i}={}){const s=mi(o);return(n,r,l)=>{const{writer:c,mapper:a,consumable:u}=l,d=r.item;if(!o.includes(r.attributeKey)||!s(d,u))return;const m=li(d,a,e);Mt(m,c,a),ui(m,c);const f=ai(d,m,t,c,{dataPipeline:i});di(d,f,t,c)}}function ri(o){return(t,e,i)=>{const{writer:s,mapper:n}=i,r=t.name.split(":")[1];if(!o.checkAttribute(r,"listItemId"))return;const l=n.toViewPosition(e.position),c=e.position.getShiftedBy(e.length),a=n.toViewPosition(c,{isPhantom:!0}),d=s.createRange(l,a).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */d&&Mt(d,s,n)}}function Ft(o,{dataPipeline:t}={}){return(e,{writer:i})=>{if(!Dt(e,o))return null;if(!t)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}function li(o,t,e){const i=e.createRangeOn(o);return t.toViewRange(i).getTrimmed().end.nodeBefore}function ci(o,t){return(e,i)=>{if(i.modelPosition.offset>0)return;const s=i.modelPosition.parent;if(!p(s)||!o.some(a=>a.scope=="itemMarker"&&a.canInjectMarkerIntoElement&&a.canInjectMarkerIntoElement(s)))return;const n=i.mapper.toViewElement(s),r=t.createRangeIn(n),l=r.getWalker();let c=r.start;for(const{item:a}of l){if(a.is("element")&&i.mapper.toModelElement(a)||a.is("$textProxy"))break;a.is("element")&&a.getCustomProperty("listItemMarker")&&(c=t.createPositionAfter(a),l.skip(({previousPosition:u})=>!u.isEqual(c)))}i.viewPosition=c}}function Mt(o,t,e){for(;o.parent.is("attributeElement")&&o.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(o),o.parent);const i=[];s(t.createPositionBefore(o).getWalker({direction:"backward"})),s(t.createRangeIn(o).getWalker());for(const n of i)t.remove(n);function s(n){for(const{item:r}of n){if(r.is("element")&&e.toModelElement(r))break;r.is("element")&&r.getCustomProperty("listItemMarker")&&i.push(r)}}}function ai(o,t,e,i,{dataPipeline:s}){let n=i.createRangeOn(t);if(!k(o))return n;for(const r of e){if(r.scope!="itemMarker")continue;const l=r.createElement(i,o,{dataPipeline:s});if(!l||(i.setCustomProperty("listItemMarker",!0,l),r.canInjectMarkerIntoElement&&r.canInjectMarkerIntoElement(o)?i.insert(i.createPositionAt(t,0),l):(i.insert(n.start,l),n=i.createRange(i.createPositionBefore(l),i.createPositionAfter(t))),!r.createWrapperElement||!r.canWrapElement))continue;const c=r.createWrapperElement(i,o,{dataPipeline:s});i.setCustomProperty("listItemWrapper",!0,c),r.canWrapElement(o)?n=i.wrap(n,c):(n=i.wrap(i.createRangeOn(l),c),n=i.createRange(n.start,i.createPositionAfter(t)))}return n}function ui(o,t){let e=o.parent;for(;e.is("attributeElement")&&["ul","ol","li"].includes(e.name);){const i=e.parent;t.unwrap(t.createRangeOn(o),e),e=i}}function di(o,t,e,i){if(!o.hasAttribute("listIndent"))return;const s=o.getAttribute("listIndent");let n=o;for(let r=s;r>=0;r--){const l=ei(i,r,n.getAttribute("listItemId")),c=ti(i,r,n.getAttribute("listType"));for(const a of e)(a.scope=="list"||a.scope=="item")&&n.hasAttribute(a.attributeName)&&a.setAttributeOnDowncast(i,n.getAttribute(a.attributeName),a.scope=="list"?c:l);if(t=i.wrap(t,l),t=i.wrap(t,c),r==0||(n=y.first(n,{lowerIndent:!0}),!n))break}}function mi(o){return(t,e)=>{const i=[];for(const s of o)t.hasAttribute(s)&&i.push(`attribute:${s}`);return i.every(s=>e.test(t,s)!==!1)?(i.forEach(s=>e.consume(t,s)),!0):!1}}function Dt(o,t,e=E(o)){if(!p(o))return!1;for(const i of o.getAttributeKeys())if(!i.startsWith("selection:")&&!t.includes(i))return!1;return e.length<2}function M(o,{insertAt:t}={}){if(!o||typeof document>"u")return;const e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",window.litNonce&&i.setAttribute("nonce",window.litNonce),t==="top"&&e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i),i.styleSheet?i.styleSheet.cssText=o:i.appendChild(document.createTextNode(o))}M(".ck-editor__editable .ck-list-bogus-paragraph{display:block}"),M(".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}");/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/const K=["listType","listIndent","listItemId"];class V extends h{static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[yt,It,Nt,Ve]}constructor(t){super(t),this._downcastStrategies=[],t.config.define("list.multiBlock",!0)}init(){const t=this.editor,e=t.model,i=t.config.get("list.multiBlock");if(t.plugins.has("LegacyListEditing"))throw new Ce("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});e.schema.register("$listItem",{allowAttributes:K}),i?(e.schema.extend("$container",{allowAttributesOf:"$listItem"}),e.schema.extend("$block",{allowAttributesOf:"$listItem"}),e.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):e.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const s of K)e.schema.setAttributeProperties(s,{copyOnReplace:!0});t.commands.add("numberedList",new P(t,"numbered")),t.commands.add("bulletedList",new P(t,"bulleted")),t.commands.add("customNumberedList",new P(t,"customNumbered",{multiLevel:!0})),t.commands.add("customBulletedList",new P(t,"customBulleted",{multiLevel:!0})),t.commands.add("indentList",new st(t,"forward")),t.commands.add("outdentList",new st(t,"backward")),t.commands.add("splitListItemBefore",new Bt(t,"before")),t.commands.add("splitListItemAfter",new Bt(t,"after")),i&&(t.commands.add("mergeListItemBackward",new Vt(t,"backward")),t.commands.add("mergeListItemForward",new Vt(t,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,i=e.get("indent"),s=e.get("outdent");i&&i.registerChildCommand(e.get("indentList"),{priority:"high"}),s&&s.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(t){this._downcastStrategies.push(t)}getListAttributeNames(){return[...K,...this._downcastStrategies.map(t=>t.attributeName)]}_setupDeleteIntegration(){const t=this.editor,e=t.commands.get("mergeListItemBackward"),i=t.commands.get("mergeListItemForward");this.listenTo(t.editing.view.document,"delete",(s,n)=>{const r=t.model.document.selection;F(t.model)||t.model.change(()=>{const l=r.getFirstPosition();if(r.isCollapsed&&n.direction=="backward"){if(!l.isAtStart)return;const c=l.parent;if(!p(c))return;if(!y.first(c,{sameAttributes:"listType",sameIndent:!0})&&c.getAttribute("listIndent")===0)Et(c)||t.execute("splitListItemAfter"),t.execute("outdentList");else{if(!e||!e.isEnabled)return;e.execute({shouldMergeOnBlocksContentLevel:Ht(t.model,"backward")})}n.preventDefault(),s.stop()}else{if(r.isCollapsed&&!r.getLastPosition().isAtEnd||!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:Ht(t.model,"forward")}),n.preventDefault(),s.stop()}})},{context:"li"})}_setupEnterIntegration(){const t=this.editor,e=t.model,i=t.commands,s=i.get("enter");this.listenTo(t.editing.view.document,"enter",(n,r)=>{const l=e.document,c=l.selection.getFirstPosition().parent;if(l.selection.isCollapsed&&p(c)&&c.isEmpty&&!r.isSoft){const a=k(c),u=Et(c);a&&u?(t.execute("outdentList"),r.preventDefault(),n.stop()):a&&!u?(t.execute("splitListItemAfter"),r.preventDefault(),n.stop()):u&&(t.execute("splitListItemBefore"),r.preventDefault(),n.stop())}},{context:"li"}),this.listenTo(s,"afterExecute",()=>{const n=i.get("splitListItemBefore");if(n.refresh(),!n.isEnabled)return;const l=t.model.document.selection.getLastPosition().parent;E(l).length===2&&n.execute()})}_setupTabIntegration(){const t=this.editor;this.listenTo(t.editing.view.document,"tab",(e,i)=>{const s=i.shiftKey?"outdentList":"indentList";this.editor.commands.get(s).isEnabled&&(t.execute(s),i.stopPropagation(),i.preventDefault(),e.stop())},{context:"li"})}_setupConversion(){const t=this.editor,e=t.model,i=this.getListAttributeNames(),s=t.config.get("list.multiBlock"),n=s?"paragraph":"listItem";t.conversion.for("upcast").elementToElement({view:"li",model:(l,{writer:c})=>c.createElement(n,{listType:""})}).elementToElement({view:"p",model:(l,{writer:c})=>l.parent&&l.parent.is("element","li")?c.createElement(n,{listType:""}):null,converterPriority:"high"}).add(l=>{l.on("element:li",ni())}),s||t.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),t.conversion.for("editingDowncast").elementToElement({model:n,view:Ft(i),converterPriority:"high"}).add(l=>{l.on("attribute",Ot(i,this._downcastStrategies,e)),l.on("remove",ri(e.schema))}),t.conversion.for("dataDowncast").elementToElement({model:n,view:Ft(i,{dataPipeline:!0}),converterPriority:"high"}).add(l=>{l.on("attribute",Ot(i,this._downcastStrategies,e,{dataPipeline:!0}))});const r=ci(this._downcastStrategies,t.editing.view);t.editing.mapper.on("modelToViewPosition",r),t.data.mapper.on("modelToViewPosition",r),this.listenTo(e.document,"change:data",oi(e,t.editing,i,this),{priority:"high"}),this.on("checkAttributes:item",(l,{viewElement:c,modelAttributes:a})=>{c.id!=a.listItemId&&(l.return=!0,l.stop())}),this.on("checkAttributes:list",(l,{viewElement:c,modelAttributes:a})=>{(c.name!=Rt(a.listType)||c.id!=zt(a.listType,a.listIndent))&&(l.return=!0,l.stop())})}_setupModelPostFixing(){const t=this.editor.model,e=this.getListAttributeNames();t.document.registerPostFixer(i=>fi(t,i,e,this)),this.on("postFixer",(i,{listNodes:s,writer:n})=>{i.return=ii(s,n)||i.return},{priority:"high"}),this.on("postFixer",(i,{listNodes:s,writer:n,seenIds:r})=>{i.return=si(s,r,n)||i.return},{priority:"high"})}_setupClipboardIntegration(){const t=this.editor.model,e=this.editor.plugins.get("ClipboardPipeline");this.listenTo(t,"insertContent",pi(t),{priority:"high"}),this.listenTo(e,"outputTransformation",(i,s)=>{t.change(n=>{const r=Array.from(s.content.getChildren()),l=r[r.length-1];if(r.length>1&&l.is("element")&&l.isEmpty&&r.slice(0,-1).every(p)&&n.remove(l),s.method=="copy"||s.method=="cut"){const c=Array.from(s.content.getChildren());O(c)&&W(c,n)}})})}_setupAccessibilityIntegration(){const t=this.editor,e=t.t;t.accessibility.addKeystrokeInfoGroup({id:"list",label:e("Keystrokes that can be used in a list"),keystrokes:[{label:e("Increase list item indent"),keystroke:"Tab"},{label:e("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function fi(o,t,e,i){const s=o.document.differ.getChanges(),n=new Map,r=i.editor.config.get("list.multiBlock");let l=!1;for(const a of s){if(a.type=="insert"&&a.name!="$text"){const u=a.position.nodeAfter;if(!o.schema.checkAttribute(u,"listItemId"))for(const d of Array.from(u.getAttributeKeys()))e.includes(d)&&(t.removeAttribute(d,u),l=!0);w(a.position,n),a.attributes.has("listItemId")||w(a.position.getShiftedBy(a.length),n);for(const{item:d,previousPosition:m}of o.createRangeIn(u))p(d)&&w(m,n)}else a.type=="remove"?w(a.position,n):a.type=="attribute"&&e.includes(a.attributeKey)&&(w(a.range.start,n),a.attributeNewValue===null&&w(a.range.start.getShiftedBy(1),n));if(!r&&a.type=="attribute"&&K.includes(a.attributeKey)){const u=a.range.start.nodeAfter;a.attributeNewValue===null&&u&&u.is("element","listItem")?(t.rename(u,"paragraph"),l=!0):a.attributeOldValue===null&&u&&u.is("element")&&u.name!="listItem"&&(t.rename(u,"listItem"),l=!0)}}const c=new Set;for(const a of n.values())l=i.fire("postFixer",{listNodes:new je(a),listHead:a,writer:t,seenIds:c})||l;return l}function pi(o){return(t,[e,i])=>{const s=e.is("documentFragment")?Array.from(e.getChildren()):[e];if(!s.length)return;const r=(i?o.createSelection(i):o.document.selection).getFirstPosition();let l;if(p(r.parent))l=r.parent;else if(p(r.nodeBefore)&&p(r.nodeAfter))l=r.nodeBefore;else return;o.change(c=>{const a=l.getAttribute("listType"),u=l.getAttribute("listIndent"),d=s[0].getAttribute("listIndent")||0,m=Math.max(u-d,0);for(const f of s){const b=p(f);l.is("element","listItem")&&f.is("element","paragraph")&&c.rename(f,"listItem"),c.setAttributes({listIndent:(b?f.getAttribute("listIndent"):0)+m,listItemId:b?f.getAttribute("listItemId"):C.next(),listType:a},f)}})}}function Ht(o,t){const e=o.document.selection;if(!e.isCollapsed)return!F(o);if(t==="forward")return!0;const s=e.getFirstPosition().parent,n=s.previousSibling;return o.schema.isObject(n)?!1:n.isEmpty?!0:O([s,n])}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function ot(o,t,e,i){o.ui.componentFactory.add(t,()=>{const s=Ut(Tt,o,t,e,i);return s.set({tooltip:!0,isToggleable:!0}),s}),o.ui.componentFactory.add(`menuBar:${t}`,()=>{const s=Ut(Be,o,t,e,i);return s.set({role:"menuitemcheckbox",isToggleable:!0}),s})}function Ut(o,t,e,i,s){const n=t.commands.get(e),r=new o(t.locale);return r.set({label:i,icon:s}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),r.on("execute",()=>{t.execute(e),t.editing.view.focus()}),r}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class rt extends h{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||ot(this.editor,"numberedList",t("Numbered List"),x.numberedList),this.editor.ui.componentFactory.has("bulletedList")||ot(this.editor,"bulletedList",t("Bulleted List"),x.bulletedList)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Wt extends h{static get requires(){return[V,rt]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class hi extends g{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute({startIndex:t=1}={}){const e=this.editor.model,i=e.document;let s=Array.from(i.selection.getSelectedBlocks()).filter(n=>p(n)&&$(n.getAttribute("listType")));s=U(s),e.change(n=>{for(const r of s)n.setAttribute("listStart",t>=0?t:1,r)})}_getValue(){const e=this.editor.model.document,i=_(e.selection.getSelectedBlocks());return i&&p(i)&&$(i.getAttribute("listType"))?i.getAttribute("listStart"):null}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/const $t={},Kt={},qt={},jt=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:o,typeAttribute:t,listType:e}of jt)$t[o]=e,Kt[o]=t,t&&(qt[t]=o);function Yt(){return jt.map(o=>o.listStyle)}function lt(o){return $t[o]||null}function Gt(o){return qt[o]||null}function ct(o){return Kt[o]||null}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class gi extends g{constructor(t,e,i){super(t),this.defaultType=e,this._supportedTypes=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,i=e.document;e.change(s=>{this._tryToConvertItemsToList(t);let n=Array.from(i.selection.getSelectedBlocks()).filter(r=>r.hasAttribute("listType"));if(n.length){n=U(n);for(const r of n)s.setAttribute("listStyle",t.type||this.defaultType,r)}})}isStyleTypeSupported(t){return this._supportedTypes?this._supportedTypes.includes(t):!0}_getValue(){const t=_(this.editor.model.document.selection.getSelectedBlocks());return p(t)?t.getAttribute("listStyle"):null}_checkEnabled(){const t=this.editor,e=t.commands.get("numberedList"),i=t.commands.get("bulletedList");return e.isEnabled||i.isEnabled}_tryToConvertItemsToList(t){if(!t.type)return;const e=lt(t.type);if(!e)return;const i=this.editor,s=`${e}List`;i.commands.get(s).value||i.execute(s)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class bi extends g{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute(t={}){const e=this.editor.model,i=e.document;let s=Array.from(i.selection.getSelectedBlocks()).filter(n=>p(n)&&n.getAttribute("listType")=="numbered");s=U(s),e.change(n=>{for(const r of s)n.setAttribute("listReversed",!!t.reversed,r)})}_getValue(){const e=this.editor.model.document,i=_(e.selection.getSelectedBlocks());return p(i)&&i.getAttribute("listType")=="numbered"?i.getAttribute("listReversed"):null}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function Zt(o){return(t,e,i)=>{const{writer:s,schema:n,consumable:r}=i;if(r.test(e.viewItem,o.viewConsumables)===!1)return;e.modelRange||Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor));let l=!1;for(const c of e.modelRange.getItems({shallow:!0}))n.checkAttribute(c,o.attributeName)&&o.appliesToListItem(c)&&(c.hasAttribute(o.attributeName)||(s.setAttribute(o.attributeName,o.getAttributeOnUpcast(e.viewItem),c),l=!0));l&&r.consume(e.viewItem,o.viewConsumables)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Jt extends h{static get pluginName(){return"ListPropertiesUtils"}static get isOfficialPlugin(){return!0}getAllSupportedStyleTypes(){return Yt()}getListTypeFromListStyleType(t){return lt(t)}getListStyleTypeFromTypeAttribute(t){return Gt(t)}getTypeAttributeFromListStyleType(t){return ct(t)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function Qt(o){const{startIndex:t,reversed:e,styles:i}=o;return{styles:Ii(i),startIndex:t||!1,reversed:e||!1}}function Ii(o){const t={listTypes:["bulleted","numbered"],useAttribute:!1};return o===!0||(o?Array.isArray(o)||typeof o=="string"?t.listTypes=L(o):(t.listTypes=o.listTypes?L(o.listTypes):t.listTypes,t.useAttribute=!!o.useAttribute):t.listTypes=[]),t}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/const D="default";class Xt extends h{static get requires(){return[V,Jt]}static get pluginName(){return"ListPropertiesEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const t=this.editor,e=t.model,i=t.plugins.get(V),s=t.config.get("list.properties"),n=yi(s);for(const r of n)r.addCommand(t),e.schema.extend("$listItem",{allowAttributes:r.attributeName}),i.registerDowncastStrategy({scope:"list",attributeName:r.attributeName,setAttributeOnDowncast(l,c,a){r.setAttributeOnDowncast(l,c,a)}});t.conversion.for("upcast").add(r=>{for(const l of n)r.on("element:ol",Zt(l)),r.on("element:ul",Zt(l))}),i.on("checkAttributes:list",(r,{viewElement:l,modelAttributes:c})=>{for(const a of n)a.getAttributeOnUpcast(l)!=c[a.attributeName]&&(r.return=!0,r.stop())}),this.listenTo(t.commands.get("indentList"),"afterExecute",(r,l)=>{e.change(c=>{for(const a of l)for(const u of n)u.appliesToListItem(a)&&c.setAttribute(u.attributeName,u.defaultValue,a)})}),i.on("postFixer",(r,{listNodes:l,writer:c})=>{for(const{node:a}of l)for(const u of n)u.hasValidAttribute(a)||(u.appliesToListItem(a)?c.setAttribute(u.attributeName,u.defaultValue,a):c.removeAttribute(u.attributeName,a),r.return=!0)}),i.on("postFixer",(r,{listNodes:l,writer:c})=>{for(const{node:a,previousNodeInList:u}of l)if(u&&u.getAttribute("listType")==a.getAttribute("listType"))for(const d of n){const{attributeName:m}=d;if(!d.appliesToListItem(a))continue;const f=u.getAttribute(m);a.getAttribute(m)!=f&&(c.setAttribute(m,f,a),r.return=!0)}})}}function yi(o){const t=[],e=Qt(o);if(o.styles){const i=e.styles.useAttribute;t.push({attributeName:"listStyle",defaultValue:D,viewConsumables:{styles:"list-style-type"},addCommand(s){let n=Yt();i&&(n=n.filter(r=>!!ct(r))),s.commands.add("listStyle",new gi(s,D,n))},appliesToListItem(s){return s.getAttribute("listType")=="numbered"||s.getAttribute("listType")=="bulleted"},hasValidAttribute(s){if(!this.appliesToListItem(s))return!s.hasAttribute("listStyle");if(!s.hasAttribute("listStyle"))return!1;const n=s.getAttribute("listStyle");return n==D?!0:lt(n)==s.getAttribute("listType")},setAttributeOnDowncast(s,n,r){if(n&&n!==D)if(i){const l=ct(n);if(l){s.setAttribute("type",l,r);return}}else{s.setStyle("list-style-type",n,r);return}s.removeStyle("list-style-type",r),s.removeAttribute("type",r)},getAttributeOnUpcast(s){const n=s.getStyle("list-style-type");if(n)return n;const r=s.getAttribute("type");return r?Gt(r):D}})}return o.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(i){i.commands.add("listReversed",new bi(i))},appliesToListItem(i){return i.getAttribute("listType")=="numbered"},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listReversed")},setAttributeOnDowncast(i,s,n){s?i.setAttribute("reversed","reversed",n):i.removeAttribute("reversed",n)},getAttributeOnUpcast(i){return i.hasAttribute("reversed")}}),o.startIndex&&t.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(i){i.commands.add("listStart",new hi(i))},appliesToListItem(i){return $(i.getAttribute("listType"))},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listStart")},setAttributeOnDowncast(i,s,n){s==0||s>1?i.setAttribute("start",s,n):i.removeAttribute("start",n)},getAttributeOnUpcast(i){const s=i.getAttribute("start");return s>=0?s:1}}),t}M(".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}");/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class te extends _t{constructor(t,{enabledProperties:e,styleButtonViews:i,styleGridAriaLabel:s}){super(t),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new vt,this.keystrokes=new wt,this.focusables=new Ne;const n=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new Re({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i&&i.length?(this.stylesView=this._createStylesView(i,s),this.children.add(this.stylesView)):n.push("ck-list-properties_without-styles"),(e.startIndex||e.reversed)&&(this._addNumberedListPropertyViews(e),n.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:n},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const t of this.stylesView.children)this.stylesView.focusTracker.add(t.element);ze({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>Ee.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(t,e){const i=new _t(this.locale);return i.children=i.createCollection(),i.children.addMany(t),i.setTemplate({tag:"div",attributes:{"aria-label":e,class:["ck","ck-list-styles-list"]},children:i.children}),i.children.delegate("execute").to(this),i.focus=function(){this.children.first.focus()},i.focusTracker=new vt,i.keystrokes=new wt,i.render(),i.keystrokes.listenTo(i.element),i}_addNumberedListPropertyViews(t){const e=this.locale.t,i=[];t.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),i.push(this.startIndexFieldView)),t.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),i.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new Oe(this.locale,i),this.additionalPropertiesCollapsibleView.set({label:e("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(i,"isEnabled",(...s)=>s.some(n=>n)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(s,n,r)=>{r||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(i)}_createStartIndexField(){const t=this.locale.t,e=new Fe(this.locale,Me);return e.set({label:t("Start at"),class:"ck-numbered-list-properties__start-index"}),e.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),e.fieldView.on("input",()=>{const i=e.fieldView.element,s=i.valueAsNumber;if(Number.isNaN(s)){e.errorText=t("Invalid start index value.");return}i.checkValidity()?this.fire("listStart",{startIndex:s}):e.errorText=t("Start index must be greater than 0.")}),e}_createReversedSwitchButton(){const t=this.locale.t,e=new De(this.locale);return e.set({withText:!0,label:t("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),e.delegate("execute").to(this,"listReversed"),e}}var vi='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>',wi='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',ki='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>',Ai='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',Li='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>',Ti='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>',_i='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>',Si='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>',xi='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>';M(".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}");/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class at extends h{static get pluginName(){return"ListPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=t.config.get("list.properties"),s=Qt(i),n=s.styles.listTypes;if(n.includes("bulleted")){const r=[{label:e("Toggle the disc list style"),tooltip:e("Disc"),type:"disc",icon:vi},{label:e("Toggle the circle list style"),tooltip:e("Circle"),type:"circle",icon:wi},{label:e("Toggle the square list style"),tooltip:e("Square"),type:"square",icon:ki}],l=e("Bulleted List"),c=e("Bulleted list styles toolbar"),a="bulletedList";t.ui.componentFactory.add(a,ee({editor:t,normalizedConfig:s,parentCommandName:a,buttonLabel:l,buttonIcon:x.bulletedList,styleGridAriaLabel:c,styleDefinitions:r})),t.ui.componentFactory.add(`menuBar:${a}`,se({editor:t,normalizedConfig:s,parentCommandName:a,buttonLabel:l,styleGridAriaLabel:c,styleDefinitions:r}))}if(n.includes("numbered")||i.startIndex||i.reversed){const r=[{label:e("Toggle the decimal list style"),tooltip:e("Decimal"),type:"decimal",icon:Ai},{label:e("Toggle the decimal with leading zero list style"),tooltip:e("Decimal with leading zero"),type:"decimal-leading-zero",icon:Li},{label:e("Toggle the lower\u2013roman list style"),tooltip:e("Lower\u2013roman"),type:"lower-roman",icon:Ti},{label:e("Toggle the upper\u2013roman list style"),tooltip:e("Upper-roman"),type:"upper-roman",icon:_i},{label:e("Toggle the lower\u2013latin list style"),tooltip:e("Lower-latin"),type:"lower-latin",icon:Si},{label:e("Toggle the upper\u2013latin list style"),tooltip:e("Upper-latin"),type:"upper-latin",icon:xi}],l=e("Numbered List"),c=e("Numbered list styles toolbar"),a="numberedList";t.ui.componentFactory.add(a,ee({editor:t,normalizedConfig:s,parentCommandName:a,buttonLabel:l,buttonIcon:x.numberedList,styleGridAriaLabel:c,styleDefinitions:r})),n.includes("numbered")&&t.ui.componentFactory.add(`menuBar:${a}`,se({editor:t,normalizedConfig:s,parentCommandName:a,buttonLabel:l,styleGridAriaLabel:c,styleDefinitions:r}))}}}function ee({editor:o,normalizedConfig:t,parentCommandName:e,buttonLabel:i,buttonIcon:s,styleGridAriaLabel:n,styleDefinitions:r}){const l=o.commands.get(e);return c=>{const a=He(c,Ue),u=a.buttonView;return a.bind("isEnabled").to(l),a.class="ck-list-styles-dropdown",u.on("execute",()=>{o.execute(e),o.editing.view.focus()}),u.set({label:i,icon:s,tooltip:!0,isToggleable:!0}),u.bind("isOn").to(l,"value",d=>!!d),a.once("change:isOpen",()=>{const d=Ci({editor:o,normalizedConfig:t,dropdownView:a,parentCommandName:e,styleGridAriaLabel:n,styleDefinitions:r});a.panelView.children.add(d)}),a.on("execute",()=>{o.editing.view.focus()}),a}}function ie({editor:o,listStyleCommand:t,parentCommandName:e}){const i=o.locale,s=o.commands.get(e);return({label:n,type:r,icon:l,tooltip:c})=>{const a=new Tt(i);return a.set({label:n,icon:l,tooltip:c}),t.on("change:value",()=>{a.isOn=t.value===r}),a.on("execute",()=>{s.value?t.value===r?o.execute(e):t.value!==r&&o.execute("listStyle",{type:r}):o.model.change(()=>{o.execute("listStyle",{type:r})})}),a}}function Ci({editor:o,normalizedConfig:t,dropdownView:e,parentCommandName:i,styleDefinitions:s,styleGridAriaLabel:n}){const r=o.locale,l={...t,...i!="numberedList"?{startIndex:!1,reversed:!1}:null},c=i.replace("List","");let a=null;if(t.styles.listTypes.includes(c)){const d=o.commands.get("listStyle"),m=ie({editor:o,parentCommandName:i,listStyleCommand:d}),f=ne(d);a=s.filter(f).map(m)}const u=new te(r,{styleGridAriaLabel:n,enabledProperties:l,styleButtonViews:a});if(t.styles.listTypes.includes(c)&&$e(e,()=>u.stylesView.children.find(d=>d.isOn)),l.startIndex){const d=o.commands.get("listStart");u.startIndexFieldView.bind("isEnabled").to(d),u.startIndexFieldView.fieldView.bind("value").to(d),u.on("listStart",(m,f)=>o.execute("listStart",f))}if(l.reversed){const d=o.commands.get("listReversed");u.reversedSwitchButtonView.bind("isEnabled").to(d),u.reversedSwitchButtonView.bind("isOn").to(d,"value",m=>!!m),u.on("listReversed",()=>{const m=d.value;o.execute("listReversed",{reversed:!m})})}return u.delegate("execute").to(e),u}function se({editor:o,normalizedConfig:t,parentCommandName:e,buttonLabel:i,styleGridAriaLabel:s,styleDefinitions:n}){return r=>{const l=new We(r),c=o.commands.get(e),a=o.commands.get("listStyle"),u=ne(a),d=ie({editor:o,parentCommandName:e,listStyleCommand:a}),m=n.filter(u).map(d),f=new te(r,{styleGridAriaLabel:s,enabledProperties:{...t,startIndex:!1,reversed:!1},styleButtonViews:m});return f.delegate("execute").to(l),l.buttonView.set({label:i,icon:x[e]}),l.panelView.children.add(f),l.bind("isEnabled").to(c,"isEnabled"),l.on("execute",()=>{o.editing.view.focus()}),l}}function ne(o){return typeof o.isStyleTypeSupported=="function"?t=>o.isStyleTypeSupported(t.type):()=>!0}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class oe extends h{static get requires(){return[Xt,at]}static get pluginName(){return"ListProperties"}static get isOfficialPlugin(){return!0}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Ei extends g{constructor(t){super(t),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const t=this._getSelectedItems();this.value=this._getValue(t),this.isEnabled=!!t.length}execute(t={}){this.editor.model.change(e=>{const i=this._getSelectedItems(),s=t.forceValue===void 0?!this._getValue(i):t.forceValue;for(const n of i)s?e.setAttribute("todoListChecked",!0,n):e.removeAttribute("todoListChecked",n)})}_getValue(t){return t.every(e=>e.getAttribute("todoListChecked"))}_getSelectedItems(){const t=this.editor.model,e=t.schema,i=t.document.selection.getFirstRange(),s=i.start.parent,n=[];e.checkAttribute(s,"todoListChecked")&&n.push(...E(s));for(const r of i.getItems({shallow:!0}))e.checkAttribute(r,"todoListChecked")&&!n.includes(r)&&n.push(...E(r));return n}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Pi extends Ke{constructor(){super(...arguments),this.domEventType=["change"]}onDomEvent(t){if(t.target){const e=this.view.domConverter.mapDomToView(t.target);e&&e.is("element","input")&&e.getAttribute("type")=="checkbox"&&e.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",t)}}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/const Vi=At("Ctrl+Enter");class re extends h{static get pluginName(){return"TodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[V]}init(){const t=this.editor,e=t.model,i=t.editing,s=t.plugins.get(V),r=t.config.get("list.multiBlock")?"paragraph":"listItem";t.commands.add("todoList",new P(t,"todo")),t.commands.add("checkTodoList",new Ei(t)),i.view.addObserver(Pi),e.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),e.schema.addAttributeCheck(l=>{const c=l.last;if(!c.getAttribute("listItemId")||c.getAttribute("listType")!="todo")return!1},"todoListChecked"),t.conversion.for("upcast").add(l=>{l.on("element:input",Ni()),l.on("element:li",Bi(),{priority:"low"}),l.on("element:label",ut({name:"label",classes:"todo-list__label"})),l.on("element:label",ut({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),l.on("element:span",ut({name:"span",classes:"todo-list__label__description"})),l.on("element:ul",Ri({name:"ul",classes:"todo-list"}))}),t.conversion.for("downcast").elementToElement({model:r,view:(l,{writer:c})=>{if(q(l,s.getListAttributeNames()))return c.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),s.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(l,c,a){c=="todo"?l.addClass("todo-list",a):l.removeClass("todo-list",a)}}),s.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(l,c,{dataPipeline:a}){if(c.getAttribute("listType")!="todo")return null;const u=l.createUIElement("input",{type:"checkbox",...c.getAttribute("todoListChecked")?{checked:"checked"}:null,...a?{disabled:"disabled"}:{tabindex:"-1"}});if(a)return u;const d=l.createContainerElement("span",{contenteditable:"false"},u);return d.getFillerOffset=()=>null,d},canWrapElement(l){return q(l,s.getListAttributeNames())},createWrapperElement(l,c,{dataPipeline:a}){const u=["todo-list__label"];return q(c,s.getListAttributeNames())||u.push("todo-list__label_without-description"),l.createAttributeElement(a?"label":"span",{class:u.join(" ")})}}),s.on("checkElement",(l,{modelElement:c,viewElement:a})=>{const u=q(c,s.getListAttributeNames());a.hasClass("todo-list__label__description")!=u&&(l.return=!0,l.stop())}),s.on("checkElement",(l,{modelElement:c,viewElement:a})=>{const u=c.getAttribute("listType")=="todo"&&k(c);let d=!1;const m=t.editing.view.createPositionBefore(a).getWalker({direction:"backward"});for(const{item:f}of m){if(f.is("element")&&t.editing.mapper.toModelElement(f))break;f.is("element","input")&&f.getAttribute("type")=="checkbox"&&(d=!0)}d!=u&&(l.return=!0,l.stop())}),s.on("postFixer",(l,{listNodes:c,writer:a})=>{for(const{node:u,previousNodeInList:d}of c){if(!d||d.getAttribute("listItemId")!=u.getAttribute("listItemId"))continue;const m=d.hasAttribute("todoListChecked"),f=u.hasAttribute("todoListChecked");f&&!m?(a.removeAttribute("todoListChecked",u),l.return=!0):!f&&m&&(a.setAttribute("todoListChecked",!0,u),l.return=!0)}}),e.document.registerPostFixer(l=>{const c=e.document.differ.getChanges();let a=!1;for(const u of c)if(u.type=="attribute"&&u.attributeKey=="listType"){const d=u.range.start.nodeAfter;u.attributeOldValue=="todo"&&d.hasAttribute("todoListChecked")&&(l.removeAttribute("todoListChecked",d),a=!0)}else if(u.type=="insert"&&u.name!="$text")for(const{item:d}of l.createRangeOn(u.position.nodeAfter))d.is("element")&&d.getAttribute("listType")!="todo"&&d.hasAttribute("todoListChecked")&&(l.removeAttribute("todoListChecked",d),a=!0);return a}),this.listenTo(i.view.document,"keydown",(l,c)=>{kt(c)===Vi&&(t.execute("checkTodoList"),l.stop())},{priority:"high"}),this.listenTo(i.view.document,"todoCheckboxChange",(l,c)=>{const a=c.target;if(!a||!a.is("element","input"))return;const u=i.view.createPositionAfter(a),m=i.mapper.toModelPosition(u).parent;m&&p(m)&&m.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(m)}),this.listenTo(i.view.document,"arrowKey",Oi(e,t.locale),{context:"$text"}),this.listenTo(i.mapper,"viewToModelPosition",(l,c)=>{const a=c.viewPosition.parent,u=a.is("attributeElement","li")&&c.viewPosition.offset==0,d=le(a)&&c.viewPosition.offset<=1,m=a.is("element","span")&&a.getAttribute("contenteditable")=="false"&&le(a.parent);if(!u&&!d&&!m)return;const f=c.modelPosition.nodeAfter;f&&f.getAttribute("listType")=="todo"&&(c.modelPosition=e.createPositionAt(f,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(t){const e=this.editor,i=e.model,s=Array.from(i.document.selection.getRanges());i.change(n=>{n.setSelection(t,"end"),e.execute("checkTodoList"),n.setSelection(s)})}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor;let s=null;e&&t.document.selection.on("change:range",()=>{const n=t.document.selection.focus.parent,r=ce(s),l=ce(n);r&&!l?e.ariaLiveAnnouncer.announce(i("Leaving a to-do list")):!r&&l&&e.ariaLiveAnnouncer.announce(i("Entering a to-do list")),s=n})}}function Bi(){return(o,t,e)=>{const{writer:i,schema:s}=e;if(!t.modelRange)return;const n=Array.from(t.modelRange.getItems({shallow:!0})).filter(r=>r.getAttribute("listType")==="todo"&&s.checkAttribute(r,"listItemId")).reduce((r,l)=>{const c=l.getAttribute("listItemId");return r.has(c)||r.set(c,E(l)),r},new Map);for(const[,r]of n.entries())if(r.some(l=>l.getAttribute("todoListChecked")))for(const l of r)i.setAttribute("todoListChecked",!0,l)}}function Ni(){return(o,t,e)=>{const i=t.modelCursor,s=i.parent,n=t.viewItem;if(!e.consumable.test(n,{name:!0})||n.getAttribute("type")!="checkbox"||!i.isAtStart||!s.hasAttribute("listType"))return;e.consumable.consume(n,{name:!0});const r=e.writer;r.setAttribute("listType","todo",s),t.viewItem.hasAttribute("checked")&&r.setAttribute("todoListChecked",!0,s),t.modelRange=r.createRange(i)}}function ut(o){const t=new St(o);return(e,i,s)=>{const n=t.match(i.viewItem);n&&s.consumable.consume(i.viewItem,n.match)&&Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor))}}function Ri(o){const t=new St(o);return(e,i,s)=>{const n=t.match(i.viewItem);if(!n)return;const r=n.match;r.name=!1,s.consumable.consume(i.viewItem,r)}}function q(o,t){return(o.is("element","paragraph")||o.is("element","listItem"))&&o.getAttribute("listType")=="todo"&&k(o)&&zi(o,t)}function zi(o,t){for(const e of o.getAttributeKeys())if(!e.startsWith("selection:")&&!t.includes(e))return!1;return!0}function Oi(o,t){return(e,i)=>{const s=Lt(i.keyCode,t.contentLanguageDirection),n=o.schema,r=o.document.selection;if(!r.isCollapsed)return;const l=r.getFirstPosition(),c=l.parent;if(s=="right"&&l.isAtEnd){const a=n.getNearestSelectionRange(o.createPositionAfter(c),"forward");if(!a)return;const u=a.start.parent;u&&p(u)&&u.getAttribute("listType")=="todo"&&(o.change(d=>d.setSelection(a)),i.preventDefault(),i.stopPropagation(),e.stop())}else if(s=="left"&&l.isAtStart&&p(c)&&c.getAttribute("listType")=="todo"){const a=n.getNearestSelectionRange(o.createPositionBefore(c),"backward");if(!a)return;o.change(u=>u.setSelection(a)),i.preventDefault(),i.stopPropagation(),e.stop()}}}function le(o){return!!o&&o.is("attributeElement")&&o.hasClass("todo-list__label")}function ce(o){return!o||!o.is("element","paragraph")&&!o.is("element","listItem")?!1:o.getAttribute("listType")=="todo"}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class dt extends h{static get pluginName(){return"TodoListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;ot(this.editor,"todoList",t("To-do List"),x.todoList)}}M(':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}');/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class ae extends h{static get requires(){return[re,dt]}static get pluginName(){return"TodoList"}static get isOfficialPlugin(){return!0}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class mt extends g{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,i=e.document,s=Array.from(i.selection.getSelectedBlocks()).filter(r=>de(r,e.schema)),n=t.forceValue!==void 0?!t.forceValue:this.value;e.change(r=>{if(n){let l=s[s.length-1].nextSibling,c=Number.POSITIVE_INFINITY,a=[];for(;l&&l.name=="listItem"&&l.getAttribute("listIndent")!==0;){const u=l.getAttribute("listIndent");u<c&&(c=u);const d=u-c;a.push({element:l,listIndent:d}),l=l.nextSibling}a=a.reverse();for(const u of a)r.setAttribute("listIndent",u.listIndent,u.element)}if(!n){let l=Number.POSITIVE_INFINITY;for(const c of s)c.is("element","listItem")&&c.getAttribute("listIndent")<l&&(l=c.getAttribute("listIndent"));l=l===0?1:l,ue(s,!0,l),ue(s,!1,l)}for(const l of s.reverse())n&&l.name=="listItem"?r.rename(l,"paragraph"):!n&&l.name!="listItem"?(r.setAttributes({listType:this.type,listIndent:0},l),r.rename(l,"listItem")):!n&&l.name=="listItem"&&l.getAttribute("listType")!=this.type&&r.setAttribute("listType",this.type,l);this.fire("_executeCleanup",s)})}_getValue(){const t=_(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,i=_(t.getSelectedBlocks());return i?de(i,e):!1}}function ue(o,t,e){const i=t?o[0]:o[o.length-1];if(i.is("element","listItem")){let s=i[t?"previousSibling":"nextSibling"],n=i.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=e;)n>s.getAttribute("listIndent")&&(n=s.getAttribute("listIndent")),s.getAttribute("listIndent")==n&&o[t?"unshift":"push"](s),s=s[t?"previousSibling":"nextSibling"]}}function de(o,t){return t.checkChild(o.parent,"listItem")&&!t.isObject(o)}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class ft extends g{constructor(t,e){super(t),this._indentBy=e=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let i=Array.from(e.selection.getSelectedBlocks());t.change(s=>{const n=i[i.length-1];let r=n.nextSibling;for(;r&&r.name=="listItem"&&r.getAttribute("listIndent")>n.getAttribute("listIndent");)i.push(r),r=r.nextSibling;this._indentBy<0&&(i=i.reverse());for(const l of i){const c=l.getAttribute("listIndent")+this._indentBy;c<0?s.rename(l,"paragraph"):s.setAttribute("listIndent",c,l)}this.fire("_executeCleanup",i)})}_checkEnabled(){const t=_(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),i=t.getAttribute("listType");let s=t.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=e;){if(s.getAttribute("listIndent")==e)return s.getAttribute("listType")==i;s=s.previousSibling}return!1}return!0}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function Fi(o){const t=o.createContainerElement("li");return t.getFillerOffset=Hi,t}function pt(o,t){const e=t.mapper,i=t.writer,s=o.getAttribute("listType")=="numbered"?"ol":"ul",n=Fi(i),r=i.createContainerElement(s,null);return i.insert(i.createPositionAt(r,0),n),e.bindElements(o,n),n}function j(o,t,e,i){const s=t.parent,n=e.mapper,r=e.writer;let l=n.toViewPosition(i.createPositionBefore(o));const c=B(o.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:o.getAttribute("listIndent")}),a=o.previousSibling;if(c&&c.getAttribute("listIndent")==o.getAttribute("listIndent")){const u=n.toViewElement(c);l=r.breakContainer(r.createPositionAfter(u))}else if(a&&a.name=="listItem"){l=n.toViewPosition(i.createPositionAt(a,"end"));const u=n.findMappedViewAncestor(l),d=me(u);d?l=r.createPositionBefore(d):l=r.createPositionAt(u,"end")}else l=n.toViewPosition(i.createPositionBefore(o));if(l=ht(l),r.insert(l,s),a&&a.name=="listItem"){const u=n.toViewElement(a),m=r.createRange(r.createPositionAt(u,0),l).getWalker({ignoreElementEnd:!0});for(const f of m)if(f.item.is("element","li")){const b=r.breakContainer(r.createPositionBefore(f.item)),A=f.item.parent,I=r.createPositionAt(t,"end");v(r,I.nodeBefore,I.nodeAfter),r.move(r.createRangeOn(A),I),m._position=b}}else{const u=s.nextSibling;if(u&&(u.is("element","ul")||u.is("element","ol"))){let d=null;for(const m of u.getChildren()){const f=n.toModelElement(m);if(f&&f.getAttribute("listIndent")>o.getAttribute("listIndent"))d=m;else break}d&&(r.breakContainer(r.createPositionAfter(d)),r.move(r.createRangeOn(d.parent),r.createPositionAt(t,"end")))}}v(r,s,s.nextSibling),v(r,s.previousSibling,s)}function v(o,t,e){return!t||!e||t.name!="ul"&&t.name!="ol"||t.name!=e.name||t.getAttribute("class")!==e.getAttribute("class")?null:o.mergeContainers(o.createPositionAfter(t))}function ht(o){return o.getLastMatchingPosition(t=>t.item.is("uiElement"))}function B(o,t){const e=!!t.sameIndent,i=!!t.smallerIndent,s=t.listIndent;let n=o;for(;n&&n.name=="listItem";){const r=n.getAttribute("listIndent");if(e&&s==r||i&&s>r)return n;t.direction==="forward"?n=n.nextSibling:n=n.previousSibling}return null}function me(o){for(const t of o.getChildren())if(t.name=="ul"||t.name=="ol")return t;return null}function Y(o,t){const e=[],i=o.parent,s={ignoreElementEnd:!1,startPosition:o,shallow:!0,direction:t},n=i.getAttribute("listIndent"),r=[...new xt(s)].filter(l=>l.item.is("element")).map(l=>l.item);for(const l of r){if(!l.is("element","listItem")||l.getAttribute("listIndent")<n)break;if(!(l.getAttribute("listIndent")>n)){if(l.getAttribute("listType")!==i.getAttribute("listType")||l.getAttribute("listStyle")!==i.getAttribute("listStyle")||l.getAttribute("listReversed")!==i.getAttribute("listReversed")||l.getAttribute("listStart")!==i.getAttribute("listStart"))break;t==="backward"?e.unshift(l):e.push(l)}}return e}function G(o){let e=[...o.document.selection.getSelectedBlocks()].filter(i=>i.is("element","listItem")).map(i=>{const s=o.change(n=>n.createPositionAt(i,0));return[...Y(s,"backward"),...Y(s,"forward")]}).flat();return e=[...new Set(e)],e}const Mi=["disc","circle","square"],Di=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function fe(o){return Mi.includes(o)?"bulleted":Di.includes(o)?"numbered":null}function Hi(){const o=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||o?0:qe.call(this)}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class pe extends h{static get pluginName(){return"LegacyListUtils"}static get isOfficialPlugin(){return!0}getListTypeFromListStyleType(t){return fe(t)}getSelectedListItems(t){return G(t)}getSiblingNodes(t,e){return Y(t,e)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function he(o){return(t,e,i)=>{const s=i.consumable;if(!s.test(e.item,"insert")||!s.test(e.item,"attribute:listType")||!s.test(e.item,"attribute:listIndent"))return;s.consume(e.item,"insert"),s.consume(e.item,"attribute:listType"),s.consume(e.item,"attribute:listIndent");const n=e.item,r=pt(n,i);j(n,r,i,o)}}function Ui(o){return(t,e,i)=>{const r=i.mapper.toViewPosition(e.position).getLastMatchingPosition(f=>!f.item.is("element","li")).nodeAfter,l=i.writer;l.breakContainer(l.createPositionBefore(r)),l.breakContainer(l.createPositionAfter(r));const c=r.parent,a=c.previousSibling,u=l.createRangeOn(c),d=l.remove(u);a&&a.nextSibling&&v(l,a,a.nextSibling);const m=i.mapper.toModelElement(r);ye(m.getAttribute("listIndent")+1,e.position,u.start,r,i,o);for(const f of l.createRangeIn(d).getItems())i.mapper.unbindViewElement(f);t.stop()}}const Wi=(o,t,e)=>{if(!e.consumable.test(t.item,o.name))return;const i=e.mapper.toViewElement(t.item),s=e.writer;s.breakContainer(s.createPositionBefore(i)),s.breakContainer(s.createPositionAfter(i));const n=i.parent,r=t.attributeNewValue=="numbered"?"ol":"ul";s.rename(r,n)},$i=(o,t,e)=>{e.consumable.consume(t.item,o.name);const s=e.mapper.toViewElement(t.item).parent,n=e.writer;v(n,s,s.nextSibling),v(n,s.previousSibling,s)};function Ki(o){return(t,e,i)=>{if(!i.consumable.consume(e.item,"attribute:listIndent"))return;const s=i.mapper.toViewElement(e.item),n=i.writer;n.breakContainer(n.createPositionBefore(s)),n.breakContainer(n.createPositionAfter(s));const r=s.parent,l=r.previousSibling,c=n.createRangeOn(r);n.remove(c),l&&l.nextSibling&&v(n,l,l.nextSibling),ye(e.attributeOldValue+1,e.range.start,c.start,s,i,o),j(e.item,s,i,o);for(const a of e.item.getChildren())i.consumable.consume(a,"insert")}}const ge=(o,t,e)=>{if(e.consumable.test(t.item,o.name)&&t.item.name!="listItem"){let i=e.mapper.toViewPosition(t.range.start);const s=e.writer,n=[];for(;(i.parent.name=="ul"||i.parent.name=="ol")&&(i=s.breakContainer(i),i.parent.name=="li");){const r=i,l=s.createPositionAt(i.parent,"end");if(!r.isEqual(l)){const c=s.remove(s.createRange(r,l));n.push(c)}i=s.createPositionAfter(i.parent)}if(n.length>0){for(let r=0;r<n.length;r++){const l=i.nodeBefore;if(i=s.insert(i,n[r]).end,r>0){const a=v(s,l,l.nextSibling);a&&a.parent==l&&i.offset--}}v(s,i.nodeBefore,i.nodeAfter)}}},qi=(o,t,e)=>{const i=e.mapper.toViewPosition(t.position),s=i.nodeBefore,n=i.nodeAfter;v(e.writer,s,n)},ji=(o,t,e)=>{if(e.consumable.consume(t.viewItem,{name:!0})){const i=e.writer,s=i.createElement("listItem"),n=ts(t.viewItem);i.setAttribute("listIndent",n,s);const r=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(i.setAttribute("listType",r,s),!e.safeInsert(s,t.modelCursor))return;const l=Qi(s,t.viewItem.getChildren(),e);t.modelRange=i.createRange(t.modelCursor,l),e.updateConversionResult(s,t)}},be=(o,t,e)=>{if(e.consumable.test(t.viewItem,{name:!0})){const i=Array.from(t.viewItem.getChildren());for(const s of i)!(s.is("element","li")||N(s))&&s._remove()}},Yi=(o,t,e)=>{if(e.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;const i=[...t.viewItem.getChildren()];let s=!1;for(const n of i)s&&!N(n)&&n._remove(),N(n)&&(s=!0)}};function Ie(o){return(t,e)=>{if(e.isPhantom)return;const i=e.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){const s=e.mapper.toViewElement(i),n=s.getAncestors().find(N),r=o.createPositionAt(s,0).getWalker();for(const l of r)if(l.type=="elementStart"&&l.item.is("element","li")){e.viewPosition=l.previousPosition;break}else if(l.type=="elementEnd"&&l.item==n){e.viewPosition=l.nextPosition;break}}}}function Gi(o){return(t,e)=>{const i=e.viewPosition,s=i.parent,n=e.mapper;if(s.name=="ul"||s.name=="ol"){if(i.isAtEnd){const r=n.toModelElement(i.nodeBefore),l=n.getModelLength(i.nodeBefore);e.modelPosition=o.createPositionBefore(r).getShiftedBy(l)}else{const r=n.toModelElement(i.nodeAfter);e.modelPosition=o.createPositionBefore(r)}t.stop()}else if(s.name=="li"&&i.nodeBefore&&(i.nodeBefore.name=="ul"||i.nodeBefore.name=="ol")){const r=n.toModelElement(s);let l=1,c=i.nodeBefore;for(;c&&N(c);)l+=n.getModelLength(c),c=c.previousSibling;e.modelPosition=o.createPositionBefore(r).getShiftedBy(l),t.stop()}}}function Zi(o,t){const e=o.document.differ.getChanges(),i=new Map;let s=!1;for(const c of e)if(c.type=="insert"&&c.name=="listItem")n(c.position);else if(c.type=="insert"&&c.name!="listItem"){if(c.name!="$text"){const u=c.position.nodeAfter;u.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",u),s=!0),u.hasAttribute("listType")&&(t.removeAttribute("listType",u),s=!0),u.hasAttribute("listStyle")&&(t.removeAttribute("listStyle",u),s=!0),u.hasAttribute("listReversed")&&(t.removeAttribute("listReversed",u),s=!0),u.hasAttribute("listStart")&&(t.removeAttribute("listStart",u),s=!0);for(const d of Array.from(o.createRangeIn(u)).filter(m=>m.item.is("element","listItem")))n(d.previousPosition)}const a=c.position.getShiftedBy(c.length);n(a)}else c.type=="remove"&&c.name=="listItem"?n(c.position):(c.type=="attribute"&&c.attributeKey=="listIndent"||c.type=="attribute"&&c.attributeKey=="listType")&&n(c.range.start);for(const c of i.values())r(c),l(c);return s;function n(c){const a=c.nodeBefore;if(!a||!a.is("element","listItem")){const u=c.nodeAfter;u&&u.is("element","listItem")&&i.set(u,u)}else{let u=a;if(i.has(u))return;for(let d=u.previousSibling;d&&d.is("element","listItem");d=u.previousSibling)if(u=d,i.has(u))return;i.set(a,u)}}function r(c){let a=0,u=null;for(;c&&c.is("element","listItem");){const d=c.getAttribute("listIndent");if(d>a){let m;u===null?(u=d-a,m=a):(u>d&&(u=d),m=d-u),t.setAttribute("listIndent",m,c),s=!0}else u=null,a=c.getAttribute("listIndent")+1;c=c.nextSibling}}function l(c){let a=[],u=null;for(;c&&c.is("element","listItem");){const d=c.getAttribute("listIndent");if(u&&u.getAttribute("listIndent")>d&&(a=a.slice(0,d+1)),d!=0)if(a[d]){const m=a[d];c.getAttribute("listType")!=m&&(t.setAttribute("listType",m,c),s=!0)}else a[d]=c.getAttribute("listType");u=c,c=c.nextSibling}}}const Ji=function(o,[t,e]){const i=this;let s=t.is("documentFragment")?t.getChild(0):t,n;if(e?n=i.createSelection(e):n=i.document.selection,s&&s.is("element","listItem")){const r=n.getFirstPosition();let l=null;if(r.parent.is("element","listItem")?l=r.parent:r.nodeBefore&&r.nodeBefore.is("element","listItem")&&(l=r.nodeBefore),l){const c=l.getAttribute("listIndent");if(c>0)for(;s&&s.is("element","listItem");)s._setAttribute("listIndent",s.getAttribute("listIndent")+c),s=s.nextSibling}}};function Qi(o,t,e){const{writer:i,schema:s}=e;let n=i.createPositionAfter(o);for(const r of t)if(r.name=="ul"||r.name=="ol")n=e.convertItem(r,n).modelCursor;else{const l=e.convertItem(r,i.createPositionAt(o,"end")),c=l.modelRange.start.nodeAfter;c&&c.is("element")&&!s.checkChild(o,c.name)&&(l.modelCursor.parent.is("element","listItem")?o=l.modelCursor.parent:o=Xi(l.modelCursor),n=i.createPositionAfter(o))}return n}function Xi(o){const t=new xt({startPosition:o});let e;do e=t.next();while(!e.value.item.is("element","listItem"));return e.value.item}function ye(o,t,e,i,s,n){const r=B(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:o}),l=s.mapper,c=s.writer,a=r?r.getAttribute("listIndent"):null;let u;if(!r)u=e;else if(a==o){const d=l.toViewElement(r).parent;u=c.createPositionAfter(d)}else{const d=n.createPositionAt(r,"end");u=l.toViewPosition(d)}u=ht(u);for(const d of[...i.getChildren()])N(d)&&(u=c.move(c.createRangeOn(d),u).end,v(c,d,d.nextSibling),v(c,d.previousSibling,d))}function N(o){return o.is("element","ol")||o.is("element","ul")}function ts(o){let t=0,e=o.parent;for(;e;){if(e.is("element","li"))t++;else{const i=e.previousSibling;i&&i.is("element","li")&&t++}e=e.parent}return t}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Z extends h{static get pluginName(){return"LegacyListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[yt,It,pe]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,i=t.editing;t.model.document.registerPostFixer(n=>Zi(t.model,n)),i.mapper.registerViewToModelLength("li",gt),e.mapper.registerViewToModelLength("li",gt),i.mapper.on("modelToViewPosition",Ie(i.view)),i.mapper.on("viewToModelPosition",Gi(t.model)),e.mapper.on("modelToViewPosition",Ie(i.view)),t.conversion.for("editingDowncast").add(n=>{n.on("insert",ge,{priority:"high"}),n.on("insert:listItem",he(t.model)),n.on("attribute:listType:listItem",Wi,{priority:"high"}),n.on("attribute:listType:listItem",$i,{priority:"low"}),n.on("attribute:listIndent:listItem",Ki(t.model)),n.on("remove:listItem",Ui(t.model)),n.on("remove",qi,{priority:"low"})}),t.conversion.for("dataDowncast").add(n=>{n.on("insert",ge,{priority:"high"}),n.on("insert:listItem",he(t.model))}),t.conversion.for("upcast").add(n=>{n.on("element:ul",be,{priority:"high"}),n.on("element:ol",be,{priority:"high"}),n.on("element:li",Yi,{priority:"high"}),n.on("element:li",ji)}),t.model.on("insertContent",Ji,{priority:"high"}),t.commands.add("numberedList",new mt(t,"numbered")),t.commands.add("bulletedList",new mt(t,"bulleted")),t.commands.add("indentList",new ft(t,"forward")),t.commands.add("outdentList",new ft(t,"backward"));const s=i.view.document;this.listenTo(s,"enter",(n,r)=>{const l=this.editor.model.document,c=l.selection.getLastPosition().parent;l.selection.isCollapsed&&c.name=="listItem"&&c.isEmpty&&(this.editor.execute("outdentList"),r.preventDefault(),n.stop())},{context:"li"}),this.listenTo(s,"delete",(n,r)=>{if(r.direction!=="backward")return;const l=this.editor.model.document.selection;if(!l.isCollapsed)return;const c=l.getFirstPosition();if(!c.isAtStart)return;const a=c.parent;a.name!=="listItem"||a.previousSibling&&a.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),r.preventDefault(),n.stop())},{context:"li"}),this.listenTo(t.editing.view.document,"tab",(n,r)=>{const l=r.shiftKey?"outdentList":"indentList";this.editor.commands.get(l).isEnabled&&(t.execute(l),r.stopPropagation(),r.preventDefault(),n.stop())},{context:"li"})}afterInit(){const t=this.editor.commands,e=t.get("indent"),i=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),i&&i.registerChildCommand(t.get("outdentList"))}}function gt(o){let t=1;for(const e of o.getChildren())if(e.name=="ul"||e.name=="ol")for(const i of e.getChildren())t+=gt(i);return t}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class es extends h{static get requires(){return[Z,rt]}static get pluginName(){return"LegacyList"}static get isOfficialPlugin(){return!0}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class is extends g{constructor(t,e){super(t),this.defaultType=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){this._tryToConvertItemsToList(t);const e=this.editor.model,i=G(e);i.length&&e.change(s=>{for(const n of i)s.setAttribute("listStyle",t.type||this.defaultType,n)})}_getValue(){const t=this.editor.model.document.selection.getFirstPosition().parent;return t&&t.is("element","listItem")?t.getAttribute("listStyle"):null}_checkEnabled(){const t=this.editor,e=t.commands.get("numberedList"),i=t.commands.get("bulletedList");return e.isEnabled||i.isEnabled}_tryToConvertItemsToList(t){if(!t.type)return;const e=fe(t.type);/* istanbul ignore next -- @preserve */if(!e)return;const i=this.editor,s=`${e}List`;i.commands.get(s).value||i.execute(s)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class ss extends g{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute(t={}){const e=this.editor.model,i=G(e).filter(s=>s.getAttribute("listType")=="numbered");e.change(s=>{for(const n of i)s.setAttribute("listReversed",!!t.reversed,n)})}_getValue(){const t=this.editor.model.document.selection.getFirstPosition().parent;return t&&t.is("element","listItem")&&t.getAttribute("listType")=="numbered"?t.getAttribute("listReversed"):null}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class ns extends g{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute({startIndex:t=1}={}){const e=this.editor.model,i=G(e).filter(s=>s.getAttribute("listType")=="numbered");e.change(s=>{for(const n of i)s.setAttribute("listStart",t>=0?t:1,n)})}_getValue(){const t=this.editor.model.document.selection.getFirstPosition().parent;return t&&t.is("element","listItem")&&t.getAttribute("listType")=="numbered"?t.getAttribute("listStart"):null}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/const J="default";class ve extends h{static get requires(){return[Z]}static get pluginName(){return"LegacyListPropertiesEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const t=this.editor,e=t.model,i=t.config.get("list.properties"),s=os(i);e.schema.extend("listItem",{allowAttributes:s.map(n=>n.attributeName)});for(const n of s)n.addCommand(t);this.listenTo(t.commands.get("indentList"),"_executeCleanup",cs(t,s)),this.listenTo(t.commands.get("outdentList"),"_executeCleanup",as(t,s)),this.listenTo(t.commands.get("bulletedList"),"_executeCleanup",we(t)),this.listenTo(t.commands.get("numberedList"),"_executeCleanup",we(t)),e.document.registerPostFixer(us(t,s)),t.conversion.for("upcast").add(rs(s)),t.conversion.for("downcast").add(ls(s)),this._mergeListAttributesWhileMergingLists(s)}afterInit(){const t=this.editor;t.commands.get("todoList")&&t.model.document.registerPostFixer(fs(t))}_mergeListAttributesWhileMergingLists(t){const i=this.editor.model;let s;this.listenTo(i,"deleteContent",(n,[r])=>{const l=r.getFirstPosition(),c=r.getLastPosition();if(l.parent===c.parent||!l.parent.is("element","listItem"))return;const a=c.parent.nextSibling;if(!a||!a.is("element","listItem"))return;const u=B(l.parent,{sameIndent:!0,listIndent:a.getAttribute("listIndent")});u&&u.getAttribute("listType")===a.getAttribute("listType")&&(s=u)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{s&&(i.change(n=>{const r=B(s.nextSibling,{sameIndent:!0,listIndent:s.getAttribute("listIndent"),direction:"forward"});if(!r){s=null;return}const l=[r,...Y(n.createPositionAt(r,0),"forward")];for(const c of l)for(const a of t)if(a.appliesToListItem(c)){const u=a.attributeName,d=s.getAttribute(u);n.setAttribute(u,d,c)}}),s=null)},{priority:"low"})}}function os(o){const t=[];return o.styles&&t.push({attributeName:"listStyle",defaultValue:J,addCommand(e){e.commands.add("listStyle",new is(e,J))},appliesToListItem(){return!0},setAttributeOnDowncast(e,i,s){i&&i!==J?e.setStyle("list-style-type",i,s):e.removeStyle("list-style-type",s)},getAttributeOnUpcast(e){return e.getStyle("list-style-type")||J}}),o.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,addCommand(e){e.commands.add("listReversed",new ss(e))},appliesToListItem(e){return e.getAttribute("listType")=="numbered"},setAttributeOnDowncast(e,i,s){i?e.setAttribute("reversed","reversed",s):e.removeAttribute("reversed",s)},getAttributeOnUpcast(e){return e.hasAttribute("reversed")}}),o.startIndex&&t.push({attributeName:"listStart",defaultValue:1,addCommand(e){e.commands.add("listStart",new ns(e))},appliesToListItem(e){return e.getAttribute("listType")=="numbered"},setAttributeOnDowncast(e,i,s){i==0||i>1?e.setAttribute("start",i,s):e.removeAttribute("start",s)},getAttributeOnUpcast(e){const i=e.getAttribute("start");return i>=0?i:1}}),t}function rs(o){return t=>{t.on("element:li",(e,i,s)=>{if(!i.modelRange)return;const n=i.viewItem.parent,r=i.modelRange.start.nodeAfter||i.modelRange.end.nodeBefore;for(const l of o)if(l.appliesToListItem(r)){const c=l.getAttributeOnUpcast(n);s.writer.setAttribute(l.attributeName,c,r)}},{priority:"low"})}}function ls(o){return e=>{for(const i of o)e.on(`attribute:${i.attributeName}:listItem`,(s,n,r)=>{const l=r.writer,c=n.item,a=B(c.previousSibling,{sameIndent:!0,listIndent:c.getAttribute("listIndent"),direction:"backward"}),u=r.mapper.toViewElement(c);t(c,a)||l.breakContainer(l.createPositionBefore(u)),i.setAttributeOnDowncast(l,n.attributeNewValue,u.parent)},{priority:"low"})};function t(e,i){return i&&e.getAttribute("listType")===i.getAttribute("listType")&&e.getAttribute("listIndent")===i.getAttribute("listIndent")&&e.getAttribute("listStyle")===i.getAttribute("listStyle")&&e.getAttribute("listReversed")===i.getAttribute("listReversed")&&e.getAttribute("listStart")===i.getAttribute("listStart")}}function cs(o,t){return(e,i)=>{const s=i[0],n=s.getAttribute("listIndent"),r=i.filter(c=>c.getAttribute("listIndent")===n);let l=null;s.previousSibling.getAttribute("listIndent")+1!==n&&(l=B(s.previousSibling,{sameIndent:!0,direction:"backward",listIndent:n})),o.model.change(c=>{for(const a of r)for(const u of t)if(u.appliesToListItem(a)){const d=l==null?u.defaultValue:l.getAttribute(u.attributeName);c.setAttribute(u.attributeName,d,a)}})}}function as(o,t){return(e,i)=>{if(i=i.reverse().filter(l=>l.is("element","listItem")),!i.length)return;const s=i[0].getAttribute("listIndent"),n=i[0].getAttribute("listType");let r=i[0].previousSibling;if(r.is("element","listItem"))for(;r.getAttribute("listIndent")!==s;)r=r.previousSibling;else r=null;r||(r=i[i.length-1].nextSibling),!(!r||!r.is("element","listItem"))&&r.getAttribute("listType")===n&&o.model.change(l=>{const c=i.filter(a=>a.getAttribute("listIndent")===s);for(const a of c)for(const u of t)if(u.appliesToListItem(a)){const d=u.attributeName,m=r.getAttribute(d);l.setAttribute(d,m,a)}})}}function us(o,t){return e=>{let i=!1;const s=ke(o.model.document.differ.getChanges()).filter(r=>r.getAttribute("listType")!=="todo");if(!s.length)return i;let n=s[s.length-1].nextSibling;if((!n||!n.is("element","listItem"))&&(n=s[0].previousSibling,n)){const r=s[0].getAttribute("listIndent");for(;n.is("element","listItem")&&n.getAttribute("listIndent")!==r&&(n=n.previousSibling,!!n););}for(const r of t){const l=r.attributeName;for(const c of s){if(!r.appliesToListItem(c)){e.removeAttribute(l,c);continue}if(!c.hasAttribute(l))ds(n,c,r)?e.setAttribute(l,n.getAttribute(l),c):e.setAttribute(l,r.defaultValue,c),i=!0;else{const a=c.previousSibling;ms(a,c,r.attributeName)&&(e.setAttribute(l,a.getAttribute(l),c),i=!0)}}}return i}}function ds(o,t,e){if(!o)return!1;const i=o.getAttribute(e.attributeName);return!(!i||i==e.defaultValue||o.getAttribute("listType")!==t.getAttribute("listType"))}function ms(o,t,e){if(!o||!o.is("element","listItem")||t.getAttribute("listType")!==o.getAttribute("listType"))return!1;const i=o.getAttribute("listIndent");if(i<1||i!==t.getAttribute("listIndent"))return!1;const s=o.getAttribute(e);return!(!s||s===t.getAttribute(e))}function fs(o){return t=>{const e=ke(o.model.document.differ.getChanges()).filter(i=>i.getAttribute("listType")==="todo"&&(i.hasAttribute("listStyle")||i.hasAttribute("listReversed")||i.hasAttribute("listStart")));if(!e.length)return!1;for(const i of e)t.removeAttribute("listStyle",i),t.removeAttribute("listReversed",i),t.removeAttribute("listStart",i);return!0}}function we(o){return(t,e)=>{e=e.filter(i=>i.is("element","listItem")),o.model.change(i=>{for(const s of e)i.removeAttribute("listStyle",s)})}}function ke(o){const t=[];for(const e of o){const i=ps(e);i&&i.is("element","listItem")&&t.push(i)}return t}function ps(o){return o.type==="attribute"?o.range.start.nodeAfter:o.type==="insert"?o.position.nodeAfter:null}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class hs extends h{static get requires(){return[ve,at]}static get pluginName(){return"LegacyListProperties"}static get isOfficialPlugin(){return!0}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/const H="todoListChecked";class gs extends g{constructor(t){super(t),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(t=>!!t.getAttribute(H)),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const t=this.editor.model,e=t.schema,i=t.document.selection.getFirstRange(),s=i.start.parent,n=[];e.checkAttribute(s,H)&&n.push(s);for(const r of i.getItems())e.checkAttribute(r,H)&&!n.includes(r)&&n.push(r);return n}execute(t={}){this.editor.model.change(e=>{for(const i of this._selectedElements)(t.forceValue===void 0?!this.value:t.forceValue)?e.setAttribute(H,!0,i):e.removeAttribute(H,i)})}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/function bs(o,t){return(e,i,s)=>{const n=s.consumable;if(!n.test(i.item,"insert")||!n.test(i.item,"attribute:listType")||!n.test(i.item,"attribute:listIndent")||i.item.getAttribute("listType")!="todo")return;const r=i.item;n.consume(r,"insert"),n.consume(r,"attribute:listType"),n.consume(r,"attribute:listIndent"),n.consume(r,"attribute:todoListChecked");const l=s.writer,c=pt(r,s),a=!!r.getAttribute("todoListChecked"),u=bt(r,l,a,t),d=l.createContainerElement("span",{class:"todo-list__label__description"});l.addClass("todo-list",c.parent),l.insert(l.createPositionAt(c,0),u),l.insert(l.createPositionAfter(u),d),j(r,c,s,o)}}function Is(o){return(t,e,i)=>{const s=i.consumable;if(!s.test(e.item,"insert")||!s.test(e.item,"attribute:listType")||!s.test(e.item,"attribute:listIndent")||e.item.getAttribute("listType")!="todo")return;const n=e.item;s.consume(n,"insert"),s.consume(n,"attribute:listType"),s.consume(n,"attribute:listIndent"),s.consume(n,"attribute:todoListChecked");const r=i.writer,l=pt(n,i);r.addClass("todo-list",l.parent);const c=r.createContainerElement("label",{class:"todo-list__label"}),a=r.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),u=r.createContainerElement("span",{class:"todo-list__label__description"});n.getAttribute("todoListChecked")&&r.setAttribute("checked","checked",a),r.insert(r.createPositionAt(l,0),c),r.insert(r.createPositionAt(c,0),a),r.insert(r.createPositionAfter(a),u),j(n,l,i,o)}}const ys=(o,t,e)=>{const i=t.modelCursor,s=i.parent,n=t.viewItem;if(n.getAttribute("type")!="checkbox"||s.name!="listItem"||!i.isAtStart||!e.consumable.consume(n,{name:!0}))return;const r=e.writer;r.setAttribute("listType","todo",s),t.viewItem.hasAttribute("checked")&&r.setAttribute("todoListChecked",!0,s),t.modelRange=r.createRange(i)};function vs(o,t){return(e,i,s)=>{if(!s.consumable.consume(i.item,e.name))return;const n=s.mapper.toViewElement(i.item),r=s.writer,l=ks(n,t);if(i.attributeNewValue=="todo"){const c=!!i.item.getAttribute("todoListChecked"),a=bt(i.item,r,c,o),u=r.createContainerElement("span",{class:"todo-list__label__description"}),d=r.createRangeIn(n),m=me(n),f=ht(d.start),b=m?r.createPositionBefore(m):d.end,A=r.createRange(f,b);r.addClass("todo-list",n.parent),r.move(A,r.createPositionAt(u,0)),r.insert(r.createPositionAt(n,0),a),r.insert(r.createPositionAfter(a),u)}else if(i.attributeOldValue=="todo"){const c=Le(n,t);r.removeClass("todo-list",n.parent),r.remove(l),r.move(r.createRangeIn(c),r.createPositionBefore(c)),r.remove(c)}}}function ws(o){return(t,e,i)=>{if(e.item.getAttribute("listType")!="todo"||!i.consumable.consume(e.item,"attribute:todoListChecked"))return;const{mapper:s,writer:n}=i,r=!!e.item.getAttribute("todoListChecked"),c=s.toViewElement(e.item).getChild(0),a=bt(e.item,n,r,o);n.insert(n.createPositionAfter(c),a),n.remove(c)}}function Ae(o){return(t,e)=>{const i=e.modelPosition,s=i.parent;if(!s.is("element","listItem")||s.getAttribute("listType")!="todo")return;const n=e.mapper.toViewElement(s),r=Le(n,o);r&&(e.viewPosition=e.mapper.findPositionIn(r,i.offset))}}function bt(o,t,e,i){return t.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(n){const r=Pe(document,"input",{type:"checkbox",tabindex:"-1"});e&&r.setAttribute("checked","checked"),r.addEventListener("change",()=>i(o));const l=this.toDomElement(n);return l.appendChild(r),l})}function ks(o,t){const e=t.createRangeIn(o);for(const i of e)if(i.item.is("uiElement","label"))return i.item}function Le(o,t){const e=t.createRangeIn(o);for(const i of e)if(i.item.is("containerElement","span")&&i.item.hasClass("todo-list__label__description"))return i.item}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/const As=At("Ctrl+Enter");class Te extends h{static get pluginName(){return"LegacyTodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Z]}init(){const t=this.editor,{editing:e,data:i,model:s}=t;s.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),s.schema.addAttributeCheck((l,c)=>{const a=l.last;if(c=="todoListChecked"&&a.name=="listItem"&&a.getAttribute("listType")!="todo")return!1}),t.commands.add("todoList",new mt(t,"todo"));const n=new gs(t);t.commands.add("checkTodoList",n),t.commands.add("todoListCheck",n),i.downcastDispatcher.on("insert:listItem",Is(s),{priority:"high"}),i.upcastDispatcher.on("element:input",ys,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",bs(s,l=>this._handleCheckmarkChange(l)),{priority:"high"}),e.downcastDispatcher.on("attribute:listType:listItem",vs(l=>this._handleCheckmarkChange(l),e.view)),e.downcastDispatcher.on("attribute:todoListChecked:listItem",ws(l=>this._handleCheckmarkChange(l))),e.mapper.on("modelToViewPosition",Ae(e.view)),i.mapper.on("modelToViewPosition",Ae(e.view)),this.listenTo(e.view.document,"arrowKey",Ls(s,t.locale),{context:"li"}),this.listenTo(e.view.document,"keydown",(l,c)=>{kt(c)===As&&(t.execute("checkTodoList"),l.stop())},{priority:"high"});const r=new Set;this.listenTo(s,"applyOperation",(l,c)=>{const a=c[0];if(a.type=="rename"&&a.oldName=="listItem"){const u=a.position.nodeAfter;u.hasAttribute("todoListChecked")&&r.add(u)}else if(a.type=="changeAttribute"&&a.key=="listType"&&a.oldValue==="todo")for(const u of a.range.getItems())u.hasAttribute("todoListChecked")&&u.getAttribute("listType")!=="todo"&&r.add(u)}),s.document.registerPostFixer(l=>{let c=!1;for(const a of r)l.removeAttribute("todoListChecked",a),c=!0;return r.clear(),c}),this._initAriaAnnouncements()}_handleCheckmarkChange(t){const e=this.editor,i=e.model,s=Array.from(i.document.selection.getRanges());i.change(n=>{n.setSelection(t,"end"),e.execute("checkTodoList"),n.setSelection(s)})}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor;let s=null;e&&t.document.selection.on("change:range",()=>{const n=t.document.selection.focus.parent,r=_e(s),l=_e(n);r&&!l?e.ariaLiveAnnouncer.announce(i("Leaving a to-do list")):!r&&l&&e.ariaLiveAnnouncer.announce(i("Entering a to-do list")),s=n})}}function Ls(o,t){return(e,i)=>{if(Lt(i.keyCode,t.contentLanguageDirection)!="left")return;const n=o.schema,r=o.document.selection;if(!r.isCollapsed)return;const l=r.getFirstPosition(),c=l.parent;if(c.name==="listItem"&&c.getAttribute("listType")=="todo"&&l.isAtStart){const a=n.getNearestSelectionRange(o.createPositionBefore(c),"backward");a&&o.change(u=>u.setSelection(a)),i.preventDefault(),i.stopPropagation(),e.stop()}}}function _e(o){return!!o&&o.is("element","listItem")&&o.getAttribute("listType")==="todo"}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Ts extends h{static get requires(){return[Te,dt]}static get pluginName(){return"LegacyTodoList"}static get isOfficialPlugin(){return!0}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class _s extends h{static get pluginName(){return"AdjacentListsSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("listSeparator",{allowWhere:"$block",isBlock:!0}),t.conversion.for("upcast").add(i=>{i.on("element:ol",Se()),i.on("element:ul",Se())}).elementToElement({model:"listSeparator",view:"ck-list-separator"}),t.conversion.for("editingDowncast").elementToElement({model:"listSeparator",view:{name:"div",classes:["ck-list-separator","ck-hidden"]}}),t.conversion.for("dataDowncast").elementToElement({model:"listSeparator",view:(i,s)=>{const n=s.writer.createContainerElement("ck-list-separator");return s.writer.setCustomProperty("dataPipeline:transparentRendering",!0,n),n.getFillerOffset=()=>null,n}})}}function Se(){return(o,t,e)=>{const i=t.viewItem,s=i.nextSibling;if(!s||i.name!==s.name)return;t.modelRange||Object.assign(t,e.convertChildren(t.viewItem,t.modelCursor));const n=e.writer,r=n.createElement("listSeparator");if(!e.safeInsert(r,t.modelCursor))return;const l=e.getSplitParts(r);t.modelRange=n.createRange(t.modelRange.start,n.createPositionAfter(l[l.length-1])),e.updateConversionResult(r,t)}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Ss extends h{static get requires(){return[Wt]}static get pluginName(){return"DocumentList"}static get isOfficialPlugin(){return!0}constructor(t){super(t),Q("plugin-obsolete-documentlist",{pluginName:"DocumentList"})}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class xs extends h{static get requires(){return[oe]}static get pluginName(){return"DocumentListProperties"}static get isOfficialPlugin(){return!0}constructor(t){super(t),Q("plugin-obsolete-documentlistproperties",{pluginName:"DocumentListProperties"})}}/**
* @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class Cs extends h{static get requires(){return[ae]}static get pluginName(){return"TodoDocumentList"}static get isOfficialPlugin(){return!0}constructor(t){super(t),Q("plugin-obsolete-tododocumentlist",{pluginName:"TodoDocumentList"})}}export{_s as AdjacentListsSupport,Ss as DocumentList,xs as DocumentListProperties,ft as LegacyIndentCommand,es as LegacyList,Z as LegacyListEditing,hs as LegacyListProperties,ve as LegacyListPropertiesEditing,pe as LegacyListUtils,Ts as LegacyTodoList,Te as LegacyTodoListEditing,Wt as List,P as ListCommand,V as ListEditing,st as ListIndentCommand,oe as ListProperties,Xt as ListPropertiesEditing,at as ListPropertiesUI,Jt as ListPropertiesUtils,rt as ListUI,Nt as ListUtils,Cs as TodoDocumentList,ae as TodoList,re as TodoListEditing,dt as TodoListUI};
