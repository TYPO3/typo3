//
// Colors
//
@layer color {
    :root {
        --typo3-color-neutral-origin: hsl(from #{$neutral-base} h s 50%);
        --typo3-color-neutral-tint: hsl(from var(--token-color-primary-base, #{$neutral-base}) h s 50%);
        --typo3-color-neutral-mix: 8%;
        --token-color-neutral-base: color-mix(in srgb, var(--typo3-color-neutral-origin), var(--typo3-color-neutral-tint) var(--typo3-color-neutral-mix, 0%));

        @each $name, $value in $base-colors {
            --token-color-#{$name}-base: #{$value};
        }

        @each $name, $value in $state-colors {
            --token-color-#{$name}-base: #{$value};
        }

        @layer neutral {
            @each $shade in $neutral-shades {
                --token-color-neutral-#{$shade}: hsl(from var(--token-color-neutral-base) h s #{100 - $shade}%);
            }
        }

        @layer state {
            @each $name, $value in $state-colors {
                @layer #{$name} {
                    @each $shade in $state-shades {
                        --token-color-#{$name}-#{$shade}: hsl(from var(--token-color-#{$name}-base) h s #{100 - $shade}%);
                    }
                }
            }
        }

        @each $name, $value in $base-colors {
            @layer #{$name} {
                @each $shade in $base-shades {
                    --token-color-#{$name}-#{$shade}: hsl(from var(--token-color-#{$name}-base) h s #{100 - $shade}%);
                }
            }
        }
    }
}

//
// Global CSS Variables
//
:root {
    color-scheme: light dark;
    scroll-behavior: smooth;
    // Respect user agent font size setting, but require at
    // least a minimum font-size of 14px, as we're scaling
    // <body> by 75% and any base font size below 14px would
    // become less than 10px for default text.
    font-size: max(1em, 14px);
    container-type: inline-size;
    min-height: 100dvh;
    overscroll-behavior: none;

    // General
    --typo3-font-size: .75rem;
    --typo3-font-size-small: .6875rem;
    --typo3-font-family-sans-serif: #{$font-family-sans-serif};
    --typo3-font-family-monospace: #{$font-family-monospace};
    --typo3-font-family: var(--typo3-font-family-sans-serif);
    --typo3-font-family-code: var(--typo3-font-family-monospace);
    --typo3-line-height: 1.5;
    --typo3-spacing: 1rem;

    // Header
    --typo3-header-font-family: "Open Sans Variable", sans-serif;

    // Z-Index
    --typo3-zindex-dropdown: 1000;
    --typo3-zindex-modal-backdrop: 1050;
    --typo3-zindex-modal: 1055;
    --typo3-zindex-header: 990;

    // Colors
    --typo3-text-color-base: light-dark(var(--token-color-neutral-90), var(--token-color-neutral-15));
    --typo3-text-color-link: var(--typo3-text-color-base);
    --typo3-text-color-variant: color-mix(in srgb, currentColor, transparent 35%);
    --typo3-text-color-primary: light-dark(var(--token-color-primary-60), var(--token-color-primary-30));
    --typo3-text-color-secondary: light-dark(var(--token-color-secondary-70), var(--token-color-secondary-35));
    --typo3-text-color-info: light-dark(var(--token-color-info-70), var(--token-color-info-40));
    --typo3-text-color-success: light-dark(var(--token-color-success-70), var(--token-color-success-50));
    --typo3-text-color-warning: light-dark(var(--token-color-warning-80), var(--token-color-warning-40));
    --typo3-text-color-danger: light-dark(var(--token-color-danger-60), var(--token-color-danger-40));
    --typo3-text-color-code: light-dark(var(--token-color-magenta-60), var(--token-color-magenta-35));
    --typo3-text-color-notice: light-dark(var(--token-color-notice-75), var(--token-color-notice-40));
    --typo3-text-color-default: var(--typo3-text-color-base);

    // Surfaces
    --typo3-surface-dim: light-dark(var(--token-color-neutral-15), var(--token-color-neutral-93));
    --typo3-surface-base: light-dark(var(--token-color-neutral-4), var(--token-color-neutral-91));
    --typo3-surface-bright: light-dark(var(--token-color-neutral-1), var(--token-color-neutral-80));
    --typo3-surface-container-lowest: light-dark(var(--token-color-neutral-1), var(--token-color-neutral-93));
    --typo3-surface-container-low: light-dark(var(--token-color-neutral-3), var(--token-color-neutral-92));
    --typo3-surface-container-base: light-dark(var(--token-color-neutral-5), var(--token-color-neutral-90));
    --typo3-surface-container-high: light-dark(var(--token-color-neutral-10), var(--token-color-neutral-85));
    --typo3-surface-container-highest: light-dark(var(--token-color-neutral-15), var(--token-color-neutral-80));
    --typo3-surface-primary: light-dark(var(--token-color-primary-60), var(--token-color-primary-70));
    --typo3-surface-primary-text: light-dark(var(--token-color-primary-1), var(--token-color-primary-1));
    --typo3-surface-container-primary: light-dark(var(--token-color-primary-10), var(--token-color-primary-90));
    --typo3-surface-container-primary-text: light-dark(var(--token-color-primary-90), var(--token-color-primary-10));
    --typo3-surface-secondary: light-dark(var(--token-color-secondary-70), var(--token-color-secondary-70));
    --typo3-surface-secondary-text: light-dark(var(--token-color-secondary-1), var(--token-color-secondary-1));
    --typo3-surface-container-secondary: light-dark(var(--token-color-secondary-10), var(--token-color-secondary-90));
    --typo3-surface-container-secondary-text: light-dark(var(--token-color-secondary-90), var(--token-color-secondary-10));
    --typo3-surface-info: light-dark(var(--token-color-info-20), var(--token-color-info-70));
    --typo3-surface-info-text: light-dark(var(--token-color-info-90), var(--token-color-info-1));
    --typo3-surface-container-info: light-dark(var(--token-color-info-10), var(--token-color-info-90));
    --typo3-surface-container-info-text: light-dark(var(--token-color-info-90), var(--token-color-info-10));
    --typo3-surface-success: light-dark(var(--token-color-success-70), var(--token-color-success-80));
    --typo3-surface-success-text: light-dark(var(--token-color-success-1), var(--token-color-success-1));
    --typo3-surface-container-success: light-dark(var(--token-color-success-10), var(--token-color-success-90));
    --typo3-surface-container-success-text: light-dark(var(--token-color-success-90), var(--token-color-success-10));
    --typo3-surface-warning: light-dark(var(--token-color-warning-40), var(--token-color-warning-80));
    --typo3-surface-warning-text: light-dark(var(--token-color-warning-90), var(--token-color-warning-1));
    --typo3-surface-container-warning: light-dark(var(--token-color-warning-10), var(--token-color-warning-90));
    --typo3-surface-container-warning-text: light-dark(var(--token-color-warning-90), var(--token-color-warning-10));
    --typo3-surface-danger: light-dark(var(--token-color-danger-50), var(--token-color-danger-70));
    --typo3-surface-danger-text: light-dark(var(--token-color-danger-1), var(--token-color-danger-1));
    --typo3-surface-container-danger: light-dark(var(--token-color-danger-10), var(--token-color-danger-90));
    --typo3-surface-container-danger-text: light-dark(var(--token-color-danger-90), var(--token-color-danger-10));
    --typo3-surface-notice: light-dark(var(--token-color-notice-75), var(--token-color-notice-85));
    --typo3-surface-notice-text: light-dark(var(--token-color-notice-1), var(--token-color-notice-1));
    --typo3-surface-container-notice: light-dark(var(--token-color-notice-10), var(--token-color-notice-90));
    --typo3-surface-container-notice-text: light-dark(var(--token-color-notice-95), var(--token-color-notice-1));
    --typo3-surface-default: light-dark(var(--token-color-neutral-6), var(--token-color-neutral-93));
    --typo3-surface-default-text: light-dark(var(--token-color-neutral-90), var(--token-color-neutral-15));
    --typo3-surface-container-default: light-dark(var(--token-color-neutral-6), var(--token-color-neutral-93));
    --typo3-surface-container-default-text: light-dark(var(--token-color-neutral-90), var(--token-color-neutral-15));

    // Borders
    --typo3-border-mix: 17.5%;

    // Outline
    --typo3-outline-width: .25rem;
    --typo3-outline-style: solid;
    --typo3-outline-transparent-mix: 25%;

    // Overlay
    --typo3-overlay-bg: #000;
    --typo3-overlay-opacity: .75;

    // Transition
    --typo3-transition-color:
        color .15s ease-in-out,
        background-color .15s ease-in-out,
        border-color .15s ease-in-out,
        box-shadow .15s ease-in-out,
        opacity .15s ease-in-out;

    &.t3js-disable-transitions {
        --typo3-transition-color: none;
    }

    // Stateful Variants
    //
    // Color transitions for interactive states (hover, focus):
    // - Light mode: backgrounds get darker (higher token numbers)
    // - Dark mode: backgrounds get lighter (lower token numbers)
    //
    // This ensures consistent visual feedback while maintaining
    // WCAG contrast ratios with the text color in each mode.
    --typo3-state-default-color: light-dark(var(--token-color-neutral-90), var(--token-color-neutral-15));
    --typo3-state-default-bg: light-dark(var(--token-color-neutral-3), var(--token-color-neutral-85));
    --typo3-state-default-border-color: light-dark(var(--token-color-neutral-25), var(--token-color-neutral-75));
    --typo3-state-default-hover-color: var(--typo3-state-default-color);
    --typo3-state-default-hover-bg: light-dark(var(--token-color-neutral-10), var(--token-color-neutral-80));
    --typo3-state-default-hover-border-color: light-dark(var(--token-color-neutral-35), var(--token-color-neutral-70));
    --typo3-state-default-focus-color: var(--typo3-state-default-color);
    --typo3-state-default-focus-bg: light-dark(var(--token-color-neutral-15), var(--token-color-neutral-75));
    --typo3-state-default-focus-border-color: light-dark(var(--token-color-neutral-40), var(--token-color-neutral-65));
    --typo3-state-default-disabled-color: var(--typo3-state-default-color);
    --typo3-state-default-disabled-bg: var(--typo3-state-default-bg);
    --typo3-state-default-disabled-border-color: var(--typo3-state-default-border-color);
    --typo3-state-primary-color: light-dark(var(--token-color-primary-1), var(--token-color-primary-1));
    --typo3-state-primary-bg: light-dark(var(--token-color-primary-60), var(--token-color-primary-70));
    --typo3-state-primary-border-color: light-dark(var(--token-color-primary-65), var(--token-color-primary-65));
    --typo3-state-primary-hover-color: var(--typo3-state-primary-color);
    --typo3-state-primary-hover-bg: light-dark(var(--token-color-primary-65), var(--token-color-primary-65));
    --typo3-state-primary-hover-border-color: light-dark(var(--token-color-primary-70), var(--token-color-primary-60));
    --typo3-state-primary-focus-color: var(--typo3-state-primary-color);
    --typo3-state-primary-focus-bg: light-dark(var(--token-color-primary-70), var(--token-color-primary-60));
    --typo3-state-primary-focus-border-color: light-dark(var(--token-color-primary-75), var(--token-color-primary-55));
    --typo3-state-primary-disabled-color: var(--typo3-state-primary-color);
    --typo3-state-primary-disabled-bg: var(--typo3-state-primary-bg);
    --typo3-state-primary-disabled-border-color: var(--typo3-state-primary-border-color);
    --typo3-state-secondary-color: light-dark(var(--token-color-secondary-1), var(--token-color-secondary-1));
    --typo3-state-secondary-bg: light-dark(var(--token-color-secondary-70), var(--token-color-secondary-70));
    --typo3-state-secondary-border-color: light-dark(var(--token-color-secondary-75), var(--token-color-secondary-65));
    --typo3-state-secondary-hover-color: var(--typo3-state-secondary-color);
    --typo3-state-secondary-hover-bg: light-dark(var(--token-color-secondary-75), var(--token-color-secondary-65));
    --typo3-state-secondary-hover-border-color: light-dark(var(--token-color-secondary-80), var(--token-color-secondary-60));
    --typo3-state-secondary-focus-color: var(--typo3-state-secondary-color);
    --typo3-state-secondary-focus-bg: light-dark(var(--token-color-secondary-80), var(--token-color-secondary-60));
    --typo3-state-secondary-focus-border-color: light-dark(var(--token-color-secondary-85), var(--token-color-secondary-55));
    --typo3-state-secondary-disabled-color: var(--typo3-state-secondary-color);
    --typo3-state-secondary-disabled-bg: var(--typo3-state-secondary-bg);
    --typo3-state-secondary-disabled-border-color: var(--typo3-state-secondary-border-color);
    --typo3-state-success-color: light-dark(var(--token-color-success-1), var(--token-color-success-1));
    --typo3-state-success-bg: light-dark(var(--token-color-success-70), var(--token-color-success-80));
    --typo3-state-success-border-color: light-dark(var(--token-color-success-80), var(--token-color-success-70));
    --typo3-state-success-hover-color: var(--typo3-state-success-color);
    --typo3-state-success-hover-bg: light-dark(var(--token-color-success-75), var(--token-color-success-75));
    --typo3-state-success-hover-border-color: light-dark(var(--token-color-success-85), var(--token-color-success-65));
    --typo3-state-success-focus-color: var(--typo3-state-success-color);
    --typo3-state-success-focus-bg: light-dark(var(--token-color-success-80), var(--token-color-success-70));
    --typo3-state-success-focus-border-color: light-dark(var(--token-color-success-90), var(--token-color-success-60));
    --typo3-state-success-disabled-color: var(--typo3-state-success-color);
    --typo3-state-success-disabled-bg: var(--typo3-state-success-bg);
    --typo3-state-success-disabled-border-color: var(--typo3-state-success-border-color);
    --typo3-state-warning-color: light-dark(var(--token-color-warning-90), var(--token-color-warning-1));
    --typo3-state-warning-bg: light-dark(var(--token-color-warning-35), var(--token-color-warning-80));
    --typo3-state-warning-border-color: light-dark(var(--token-color-warning-45), var(--token-color-warning-70));
    --typo3-state-warning-hover-color: var(--typo3-state-warning-color);
    --typo3-state-warning-hover-bg: light-dark(var(--token-color-warning-40), var(--token-color-warning-75));
    --typo3-state-warning-hover-border-color: light-dark(var(--token-color-warning-50), var(--token-color-warning-65));
    --typo3-state-warning-focus-color: var(--typo3-state-warning-color);
    --typo3-state-warning-focus-bg: light-dark(var(--token-color-warning-45), var(--token-color-warning-70));
    --typo3-state-warning-focus-border-color: light-dark(var(--token-color-warning-55), var(--token-color-warning-60));
    --typo3-state-warning-disabled-color: var(--typo3-state-warning-color);
    --typo3-state-warning-disabled-bg: var(--typo3-state-warning-bg);
    --typo3-state-warning-disabled-border-color: var(--typo3-state-warning-border-color);
    --typo3-state-danger-color: light-dark(var(--token-color-danger-1), var(--token-color-danger-1));
    --typo3-state-danger-bg: light-dark(var(--token-color-danger-55), var(--token-color-danger-70));
    --typo3-state-danger-border-color: light-dark(var(--token-color-danger-65), var(--token-color-danger-60));
    --typo3-state-danger-hover-color: var(--typo3-state-danger-color);
    --typo3-state-danger-hover-bg: light-dark(var(--token-color-danger-60), var(--token-color-danger-65));
    --typo3-state-danger-hover-border-color: light-dark(var(--token-color-danger-70), var(--token-color-danger-55));
    --typo3-state-danger-focus-color: var(--typo3-state-danger-color);
    --typo3-state-danger-focus-bg: light-dark(var(--token-color-danger-65), var(--token-color-danger-60));
    --typo3-state-danger-focus-border-color: light-dark(var(--token-color-danger-75), var(--token-color-danger-50));
    --typo3-state-danger-disabled-color: var(--typo3-state-danger-color);
    --typo3-state-danger-disabled-bg: var(--typo3-state-danger-bg);
    --typo3-state-danger-disabled-border-color: var(--typo3-state-danger-border-color);
    --typo3-state-info-color: light-dark(var(--token-color-info-90), var(--token-color-info-1));
    --typo3-state-info-bg: light-dark(var(--token-color-info-20), var(--token-color-info-85));
    --typo3-state-info-border-color: light-dark(var(--token-color-info-30), var(--token-color-info-75));
    --typo3-state-info-hover-color: var(--typo3-state-info-color);
    --typo3-state-info-hover-bg: light-dark(var(--token-color-info-25), var(--token-color-info-80));
    --typo3-state-info-hover-border-color: light-dark(var(--token-color-info-35), var(--token-color-info-70));
    --typo3-state-info-focus-color: var(--typo3-state-info-color);
    --typo3-state-info-focus-bg: light-dark(var(--token-color-info-30), var(--token-color-info-75));
    --typo3-state-info-focus-border-color: light-dark(var(--token-color-info-40), var(--token-color-info-65));
    --typo3-state-info-disabled-color: var(--typo3-state-info-color);
    --typo3-state-info-disabled-bg: var(--typo3-state-info-bg);
    --typo3-state-info-disabled-border-color: var(--typo3-state-info-border-color);
    --typo3-state-notice-color: light-dark(var(--token-color-notice-1), var(--token-color-notice-15));
    --typo3-state-notice-bg: light-dark(var(--token-color-notice-75), var(--token-color-notice-75));
    --typo3-state-notice-border-color: light-dark(var(--token-color-notice-85), var(--token-color-notice-65));
    --typo3-state-notice-hover-color: var(--typo3-state-notice-color);
    --typo3-state-notice-hover-bg: light-dark(var(--token-color-notice-80), var(--token-color-notice-70));
    --typo3-state-notice-hover-border-color: light-dark(var(--token-color-notice-90), var(--token-color-notice-60));
    --typo3-state-notice-focus-color: var(--typo3-state-notice-color);
    --typo3-state-notice-focus-bg: light-dark(var(--token-color-notice-85), var(--token-color-notice-65));
    --typo3-state-notice-focus-border-color: light-dark(var(--token-color-notice-95), var(--token-color-notice-55));
    --typo3-state-notice-disabled-color: var(--typo3-state-notice-color);
    --typo3-state-notice-disabled-bg: var(--typo3-state-notice-bg);
    --typo3-state-notice-disabled-border-color: var(--typo3-state-notice-border-color);

    // Decorative colors
    //
    // Color transitions for interactive states (hover, focus):
    // - Light mode: backgrounds get darker (higher token numbers)
    // - Dark mode: backgrounds get lighter (lower token numbers)
    //
    // This ensures consistent visual feedback while maintaining
    // WCAG contrast ratios with the text color in each mode.
    --typo3-state-red-color: light-dark(var(--token-color-red-1), var(--token-color-red-1));
    --typo3-state-red-bg: light-dark(var(--token-color-red-55), var(--token-color-red-70));
    --typo3-state-red-border-color: light-dark(var(--token-color-red-65), var(--token-color-red-60));
    --typo3-state-red-hover-color: var(--typo3-state-red-color);
    --typo3-state-red-hover-bg: light-dark(var(--token-color-red-60), var(--token-color-red-65));
    --typo3-state-red-hover-border-color: light-dark(var(--token-color-red-70), var(--token-color-red-55));
    --typo3-state-red-focus-color: var(--typo3-state-red-color);
    --typo3-state-red-focus-bg: light-dark(var(--token-color-red-65), var(--token-color-red-60));
    --typo3-state-red-focus-border-color: light-dark(var(--token-color-red-75), var(--token-color-red-50));
    --typo3-state-red-disabled-color: var(--typo3-state-red-color);
    --typo3-state-red-disabled-bg: var(--typo3-state-red-bg);
    --typo3-state-red-disabled-border-color: var(--typo3-state-red-border-color);
    --typo3-state-orange-color: light-dark(var(--token-color-orange-90), var(--token-color-orange-1));
    --typo3-state-orange-bg: light-dark(var(--token-color-orange-40), var(--token-color-orange-75));
    --typo3-state-orange-border-color: light-dark(var(--token-color-orange-50), var(--token-color-orange-65));
    --typo3-state-orange-hover-color: var(--typo3-state-orange-color);
    --typo3-state-orange-hover-bg: light-dark(var(--token-color-orange-45), var(--token-color-orange-70));
    --typo3-state-orange-hover-border-color: light-dark(var(--token-color-orange-55), var(--token-color-orange-60));
    --typo3-state-orange-focus-color: var(--typo3-state-orange-color);
    --typo3-state-orange-focus-bg: light-dark(var(--token-color-orange-50), var(--token-color-orange-65));
    --typo3-state-orange-focus-border-color: light-dark(var(--token-color-orange-60), var(--token-color-orange-55));
    --typo3-state-orange-disabled-color: var(--typo3-state-orange-color);
    --typo3-state-orange-disabled-bg: var(--typo3-state-orange-bg);
    --typo3-state-orange-disabled-border-color: var(--typo3-state-orange-border-color);
    --typo3-state-yellow-color: light-dark(var(--token-color-yellow-90), var(--token-color-yellow-1));
    --typo3-state-yellow-bg: light-dark(var(--token-color-yellow-35), var(--token-color-yellow-80));
    --typo3-state-yellow-border-color: light-dark(var(--token-color-yellow-45), var(--token-color-yellow-70));
    --typo3-state-yellow-hover-color: var(--typo3-state-yellow-color);
    --typo3-state-yellow-hover-bg: light-dark(var(--token-color-yellow-40), var(--token-color-yellow-75));
    --typo3-state-yellow-hover-border-color: light-dark(var(--token-color-yellow-50), var(--token-color-yellow-65));
    --typo3-state-yellow-focus-color: var(--typo3-state-yellow-color);
    --typo3-state-yellow-focus-bg: light-dark(var(--token-color-yellow-45), var(--token-color-yellow-70));
    --typo3-state-yellow-focus-border-color: light-dark(var(--token-color-yellow-55), var(--token-color-yellow-60));
    --typo3-state-yellow-disabled-color: var(--typo3-state-yellow-color);
    --typo3-state-yellow-disabled-bg: var(--typo3-state-yellow-bg);
    --typo3-state-yellow-disabled-border-color: var(--typo3-state-yellow-border-color);
    --typo3-state-lime-color: light-dark(var(--token-color-lime-90), var(--token-color-lime-1));
    --typo3-state-lime-bg: light-dark(var(--token-color-lime-35), var(--token-color-lime-85));
    --typo3-state-lime-border-color: light-dark(var(--token-color-lime-45), var(--token-color-lime-75));
    --typo3-state-lime-hover-color: var(--typo3-state-lime-color);
    --typo3-state-lime-hover-bg: light-dark(var(--token-color-lime-40), var(--token-color-lime-80));
    --typo3-state-lime-hover-border-color: light-dark(var(--token-color-lime-50), var(--token-color-lime-70));
    --typo3-state-lime-focus-color: var(--typo3-state-lime-color);
    --typo3-state-lime-focus-bg: light-dark(var(--token-color-lime-45), var(--token-color-lime-75));
    --typo3-state-lime-focus-border-color: light-dark(var(--token-color-lime-55), var(--token-color-lime-65));
    --typo3-state-lime-disabled-color: var(--typo3-state-lime-color);
    --typo3-state-lime-disabled-bg: var(--typo3-state-lime-bg);
    --typo3-state-lime-disabled-border-color: var(--typo3-state-lime-border-color);
    --typo3-state-green-color: light-dark(var(--token-color-green-1), var(--token-color-green-1));
    --typo3-state-green-bg: light-dark(var(--token-color-green-70), var(--token-color-green-80));
    --typo3-state-green-border-color: light-dark(var(--token-color-green-80), var(--token-color-green-70));
    --typo3-state-green-hover-color: var(--typo3-state-green-color);
    --typo3-state-green-hover-bg: light-dark(var(--token-color-green-75), var(--token-color-green-75));
    --typo3-state-green-hover-border-color: light-dark(var(--token-color-green-85), var(--token-color-green-65));
    --typo3-state-green-focus-color: var(--typo3-state-green-color);
    --typo3-state-green-focus-bg: light-dark(var(--token-color-green-80), var(--token-color-green-70));
    --typo3-state-green-focus-border-color: light-dark(var(--token-color-green-90), var(--token-color-green-60));
    --typo3-state-green-disabled-color: var(--typo3-state-green-color);
    --typo3-state-green-disabled-bg: var(--typo3-state-green-bg);
    --typo3-state-green-disabled-border-color: var(--typo3-state-green-border-color);
    --typo3-state-teal-color: light-dark(var(--token-color-teal-90), var(--token-color-teal-1));
    --typo3-state-teal-bg: light-dark(var(--token-color-teal-35), var(--token-color-teal-80));
    --typo3-state-teal-border-color: light-dark(var(--token-color-teal-45), var(--token-color-teal-70));
    --typo3-state-teal-hover-color: var(--typo3-state-teal-color);
    --typo3-state-teal-hover-bg: light-dark(var(--token-color-teal-40), var(--token-color-teal-75));
    --typo3-state-teal-hover-border-color: light-dark(var(--token-color-teal-50), var(--token-color-teal-65));
    --typo3-state-teal-focus-color: var(--typo3-state-teal-color);
    --typo3-state-teal-focus-bg: light-dark(var(--token-color-teal-45), var(--token-color-teal-70));
    --typo3-state-teal-focus-border-color: light-dark(var(--token-color-teal-55), var(--token-color-teal-60));
    --typo3-state-teal-disabled-color: var(--typo3-state-teal-color);
    --typo3-state-teal-disabled-bg: var(--typo3-state-teal-bg);
    --typo3-state-teal-disabled-border-color: var(--typo3-state-teal-border-color);
    --typo3-state-blue-color: light-dark(var(--token-color-blue-1), var(--token-color-blue-1));
    --typo3-state-blue-bg: light-dark(var(--token-color-blue-55), var(--token-color-blue-70));
    --typo3-state-blue-border-color: light-dark(var(--token-color-blue-65), var(--token-color-blue-60));
    --typo3-state-blue-hover-color: var(--typo3-state-blue-color);
    --typo3-state-blue-hover-bg: light-dark(var(--token-color-blue-60), var(--token-color-blue-65));
    --typo3-state-blue-hover-border-color: light-dark(var(--token-color-blue-70), var(--token-color-blue-55));
    --typo3-state-blue-focus-color: var(--typo3-state-blue-color);
    --typo3-state-blue-focus-bg: light-dark(var(--token-color-blue-65), var(--token-color-blue-60));
    --typo3-state-blue-focus-border-color: light-dark(var(--token-color-blue-75), var(--token-color-blue-50));
    --typo3-state-blue-disabled-color: var(--typo3-state-blue-color);
    --typo3-state-blue-disabled-bg: var(--typo3-state-blue-bg);
    --typo3-state-blue-disabled-border-color: var(--typo3-state-blue-border-color);
    --typo3-state-indigo-color: light-dark(var(--token-color-indigo-1), var(--token-color-indigo-1));
    --typo3-state-indigo-bg: light-dark(var(--token-color-indigo-55), var(--token-color-indigo-70));
    --typo3-state-indigo-border-color: light-dark(var(--token-color-indigo-65), var(--token-color-indigo-60));
    --typo3-state-indigo-hover-color: var(--typo3-state-indigo-color);
    --typo3-state-indigo-hover-bg: light-dark(var(--token-color-indigo-60), var(--token-color-indigo-65));
    --typo3-state-indigo-hover-border-color: light-dark(var(--token-color-indigo-70), var(--token-color-indigo-55));
    --typo3-state-indigo-focus-color: var(--typo3-state-indigo-color);
    --typo3-state-indigo-focus-bg: light-dark(var(--token-color-indigo-65), var(--token-color-indigo-60));
    --typo3-state-indigo-focus-border-color: light-dark(var(--token-color-indigo-75), var(--token-color-indigo-50));
    --typo3-state-indigo-disabled-color: var(--typo3-state-indigo-color);
    --typo3-state-indigo-disabled-bg: var(--typo3-state-indigo-bg);
    --typo3-state-indigo-disabled-border-color: var(--typo3-state-indigo-border-color);
    --typo3-state-purple-color: light-dark(var(--token-color-purple-1), var(--token-color-purple-1));
    --typo3-state-purple-bg: light-dark(var(--token-color-purple-55), var(--token-color-purple-70));
    --typo3-state-purple-border-color: light-dark(var(--token-color-purple-65), var(--token-color-purple-60));
    --typo3-state-purple-hover-color: var(--typo3-state-purple-color);
    --typo3-state-purple-hover-bg: light-dark(var(--token-color-purple-60), var(--token-color-purple-65));
    --typo3-state-purple-hover-border-color: light-dark(var(--token-color-purple-70), var(--token-color-purple-55));
    --typo3-state-purple-focus-color: var(--typo3-state-purple-color);
    --typo3-state-purple-focus-bg: light-dark(var(--token-color-purple-65), var(--token-color-purple-60));
    --typo3-state-purple-focus-border-color: light-dark(var(--token-color-purple-75), var(--token-color-purple-50));
    --typo3-state-purple-disabled-color: var(--typo3-state-purple-color);
    --typo3-state-purple-disabled-bg: var(--typo3-state-purple-bg);
    --typo3-state-purple-disabled-border-color: var(--typo3-state-purple-border-color);
    --typo3-state-magenta-color: light-dark(var(--token-color-magenta-1), var(--token-color-magenta-1));
    --typo3-state-magenta-bg: light-dark(var(--token-color-magenta-55), var(--token-color-magenta-70));
    --typo3-state-magenta-border-color: light-dark(var(--token-color-magenta-65), var(--token-color-magenta-60));
    --typo3-state-magenta-hover-color: var(--typo3-state-magenta-color);
    --typo3-state-magenta-hover-bg: light-dark(var(--token-color-magenta-60), var(--token-color-magenta-65));
    --typo3-state-magenta-hover-border-color: light-dark(var(--token-color-magenta-70), var(--token-color-magenta-55));
    --typo3-state-magenta-focus-color: var(--typo3-state-magenta-color);
    --typo3-state-magenta-focus-bg: light-dark(var(--token-color-magenta-65), var(--token-color-magenta-60));
    --typo3-state-magenta-focus-border-color: light-dark(var(--token-color-magenta-75), var(--token-color-magenta-50));
    --typo3-state-magenta-disabled-color: var(--typo3-state-magenta-color);
    --typo3-state-magenta-disabled-bg: var(--typo3-state-magenta-bg);
    --typo3-state-magenta-disabled-border-color: var(--typo3-state-magenta-border-color);

    //
    // Elevation / Shadow
    //
    // Generated CSS Properties
    // --typo3-shadow-2
    // --typo3-shadow-4
    // --typo3-shadow-6
    // --typo3-shadow-16
    // --typo3-shadow-28
    // --typo3-shadow-64
    $shadow-light-first-color: rgba(0, 0, 0, 4%);
    $shadow-light-second-color: rgba(0, 0, 0, 8%);
    $shadow-dark-first-color: rgba(0, 0, 0, 25%);
    $shadow-dark-second-color: rgba(0, 0, 0, 35%);

    @each $size in 2, 4, 8, 16, 28, 64 {
        $_offset_y_first: if($size >= 32, 0, .5px * $size);
        $_offset_y_second: .5px * $size;
        $_blur_first: if($size >= 32, 4px, 1px * $size);
        $_blur_second: 1px * $size;
        --typo3-shadow-#{$size}:
            0 #{$_offset_y_first} #{$_blur_first} light-dark(#{$shadow-light-first-color}, #{$shadow-dark-first-color}),
            0 #{$_offset_y_second} #{$_blur_second} light-dark(#{$shadow-light-second-color}, #{$shadow-dark-second-color});
    }
    --typo3-shadow-type-basic: var(--typo3-shadow-2);
    --typo3-shadow-type-strong: var(--typo3-shadow-4);
    --typo3-shadow-type-tooltip: var(--typo3-shadow-8);
    --typo3-shadow-type-flyout: var(--typo3-shadow-16);
    --typo3-shadow-type-dialog: var(--typo3-shadow-28);
    --typo3-shadow-type-window: var(--typo3-shadow-64);

    // Component
    --typo3-component-color: var(--typo3-text-color-base);
    --typo3-component-variant-color: var(--typo3-text-color-variant);
    --typo3-component-primary-color: var(--typo3-text-color-primary);
    --typo3-component-secondary-color: var(--typo3-text-color-secondary);
    --typo3-component-match-highlight-color: inherit;
    --typo3-component-match-highlight-bg: color-mix(in srgb, light-dark(var(--token-color-orange-30), var(--token-color-orange-70)), transparent 50%);
    --typo3-component-bg: var(--typo3-surface-container-low);
    --typo3-component-link-color: var(--typo3-text-color-primary);
    --typo3-component-link-hover-color: color-mix(in srgb, var(--typo3-component-link-color), var(--typo3-component-color) 15%);
    --typo3-component-font-size: var(--typo3-font-size);
    --typo3-component-line-height: var(--typo3-line-height);
    --typo3-component-border-radius: .75em;
    --typo3-component-border-width: 1px;
    --typo3-component-border-color: color-mix(in srgb, var(--typo3-component-bg), var(--typo3-component-color) var(--typo3-border-mix));
    --typo3-component-padding-y: .75rem;
    --typo3-component-padding-x: 1rem;
    --typo3-component-box-shadow: var(--typo3-shadow-2);
    --typo3-component-box-shadow-strong: var(--typo3-shadow-type-strong);
    --typo3-component-box-shadow-tooltip: var(--typo3-shadow-type-tooltip);
    --typo3-component-box-shadow-flyout: var(--typo3-shadow-type-flyout);
    --typo3-component-box-shadow-dialog: var(--typo3-shadow-type-dialog);
    --typo3-component-box-shadow-window: var(--typo3-shadow-type-window);
    --typo3-component-hover-color: var(--typo3-state-default-hover-color);
    --typo3-component-hover-bg: var(--typo3-state-default-hover-bg);
    --typo3-component-hover-border-color: var(--typo3-state-default-hover-border-color);
    --typo3-component-focus-color: var(--typo3-state-default-focus-color);
    --typo3-component-focus-bg: var(--typo3-state-default-focus-bg);
    --typo3-component-focus-border-color: var(--typo3-state-default-focus-border-color);
    --typo3-component-active-color: var(--typo3-state-primary-color);
    --typo3-component-active-bg: var(--typo3-state-primary-bg);
    --typo3-component-active-border-color: var(--typo3-state-primary-border-color);
    --typo3-component-disabled-color: var(--typo3-text-color-variant);
    --typo3-component-disabled-bg: var(--typo3-surface-container-base);
    --typo3-component-disabled-border-color: var(--typo3-component-border-color);
    --typo3-component-spacing: 2rem;

    // List
    --typo3-list-item-padding-y: .5rem;
    --typo3-list-item-padding-x: .75rem;
    --typo3-list-item-hover-color: var(--typo3-component-hover-color);
    --typo3-list-item-hover-bg: var(--typo3-component-hover-bg);
    --typo3-list-item-hover-border-color: var(--typo3-component-hover-border-color);
    --typo3-list-item-focus-color: var(--typo3-component-focus-color);
    --typo3-list-item-focus-bg: var(--typo3-component-focus-bg);
    --typo3-list-item-focus-border-color: var(--typo3-component-focus-border-color);
    --typo3-list-item-active-color: var(--typo3-component-active-color);
    --typo3-list-item-active-bg: var(--typo3-component-active-bg);
    --typo3-list-item-active-border-color: var(--typo3-component-active-border-color);
    --typo3-list-item-disabled-color: var(--typo3-component-disabled-color);
    --typo3-list-item-disabled-bg: var(--typo3-component-disabled-bg);
    --typo3-list-item-disabled-border-color: var(--typo3-component-disabled-border-color);

    // Input fields
    --typo3-input-font-size: .75rem;
    --typo3-input-line-height: 1.5;
    --typo3-input-padding-y: .5rem;
    --typo3-input-padding-x: .75rem;
    --typo3-input-sm-padding-y: .3125rem;
    --typo3-input-sm-padding-x: .5rem;
    --typo3-input-sm-font-size: .6875rem;
    --typo3-input-border-width: 1px;
    --typo3-input-border-radius: .75em;
    --typo3-input-color: var(--typo3-text-color-base);
    --typo3-input-bg: var(--typo3-surface-container-lowest);
    --typo3-input-group-addon-bg: color-mix(in srgb, var(--typo3-input-bg), var(--typo3-input-color) 10%);
    --typo3-input-border-color: var(--typo3-state-default-border-color);
    --typo3-input-hover-color: var(--typo3-input-color);
    --typo3-input-hover-bg: var(--typo3-input-bg);
    --typo3-input-hover-border-color: var(--typo3-state-default-hover-border-color);
    --typo3-input-focus-color: var(--typo3-input-color);
    --typo3-input-focus-bg: var(--typo3-input-bg);
    --typo3-input-focus-border-color: var(--typo3-state-primary-focus-border-color);
    --typo3-input-active-color: var(--typo3-state-primary-color);
    --typo3-input-active-bg: var(--typo3-state-primary-bg);
    --typo3-input-active-border-color: var(--typo3-state-primary-focus-border-color);
    --typo3-input-disabled-color: var(--typo3-state-default-disabled-color);
    --typo3-input-disabled-bg: var(--typo3-state-default-disabled-bg);
    --typo3-input-disabled-border-color: var(--typo3-state-default-disabled-border-color);
    --typo3-input-disabled-opacity: .65;

    // Icons
    --typo3-icons-close: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cg fill='%23fff'%3e%3cpath d='M11.9 5.5 9.4 8l2.5 2.5c.2.2.2.5 0 .7l-.7.7c-.2.2-.5.2-.7 0L8 9.4l-2.5 2.5c-.2.2-.5.2-.7 0l-.7-.7c-.2-.2-.2-.5 0-.7L6.6 8 4.1 5.5c-.2-.2-.2-.5 0-.7l.7-.7c.2-.2.5-.2.7 0L8 6.6l2.5-2.5c.2-.2.5-.2.7 0l.7.7c.2.2.2.5 0 .7z'/%3e%3c/g%3e%3c/svg%3e");
    --typo3-icons-check: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cg fill='%23fff'%3e%3cpath d='m13.3 4.8-.7-.7c-.2-.2-.5-.2-.7 0L6.5 9.5 4 6.9c-.2-.2-.5-.2-.7 0l-.6.7c-.2.2-.2.5 0 .7l3.6 3.6c.2.2.5.2.7 0l6.4-6.4c.1-.2.1-.5-.1-.7z'/%3e%3c/g%3e%3c/svg%3e");
    --typo3-icons-chevron-down: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cg fill='%23fff'%3e%3cpath d='m4.464 6.05-.707.707L8 11l4.243-4.243-.707-.707L8 9.586z'/%3e%3c/g%3e%3c/svg%3e");
    --typo3-icons-accent: light-dark(var(--token-color-primary-60), var(--token-color-primary-40));

    // Scaffold
    --typo3-scaffold-color: var(--typo3-text-color-base);
    --typo3-scaffold-bg: var(--typo3-surface-base);
    --typo3-scaffold-border-color: color-mix(in srgb, var(--typo3-surface-base), var(--typo3-scaffold-color) var(--typo3-scaffold-border-mix));
    --typo3-scaffold-border-mix: 10%;
    --typo3-scaffold-gap: .5rem;
    --typo3-scaffold-header-height: 3.75rem;
    --typo3-scaffold-header-color: var(--typo3-text-color-base);
    --typo3-scaffold-header-bg: var(--typo3-surface-bright);
    --typo3-scaffold-header-box-shadow: var(--typo3-shadow-2);
    --typo3-scaffold-header-item-height: 2.5rem;
    --typo3-scaffold-header-item-width: 2.5rem;
    --typo3-scaffold-header-item-border-radius: .75rem;
    --typo3-scaffold-header-padding-y: .5rem;
    --typo3-scaffold-header-padding-x: .5rem;
    --typo3-scaffold-header-foldout-bg: var(--typo3-surface-container-high);
    --typo3-scaffold-header-zindex: var(--typo3-zindex-header);
    --typo3-scaffold-sidebar-color: var(--typo3-text-color-base);
    --typo3-scaffold-sidebar-bg: var(--typo3-surface-container-high);
    --typo3-scaffold-sidebar-boder-color: color-mix(in srgb, var(--typo3-scaffold-sidebar-bg), var(--typo3-scaffold-sidebar-color) var(--typo3-scaffold-border-mix));
    --typo3-scaffold-sidebar-border-width: 1px;
    --typo3-scaffold-sidebar-collapsed-width: minmax(0, min-content);
    --typo3-scaffold-sidebar-expanded-width: 240px;
    --typo3-scaffold-sidebar-box-shadow: var(--typo3-shadow-type-flyout);
    --typo3-scaffold-sidebar-width: var(--typo3-scaffold-sidebar-collapsed-width);
}

[data-color-scheme="dark"] {
    color-scheme: only dark;
}

[data-color-scheme="light"] {
    color-scheme: only light;
}

[data-theme="classic"] {
    --typo3-color-neutral-mix: 0%;
    --typo3-icons-accent: light-dark(#ff8700, #ff8700);

    .scaffold-header,
    .scaffold-sidebar {
        color-scheme: only dark;
    }
}

[data-theme="fresh"] {
    --typo3-color-neutral-mix: 20%;
    --token-color-primary-base: #5033c7;
    --token-color-secondary-base: hsl(from var(--token-color-primary-base) h 10% l);

    // Scaffold
    --typo3-scaffold-header-color: var(--typo3-surface-primary-text);
    --typo3-scaffold-header-bg: light-dark(hsl(from var(--typo3-surface-primary) h 40% 20), hsl(from var(--typo3-surface-primary) h 20% 10));
    --typo3-scaffold-header-box-shadow: none;
    --typo3-scaffold-sidebar-color: var(--typo3-surface-primary-text);
    --typo3-scaffold-sidebar-bg: light-dark(hsl(from var(--typo3-surface-primary) h 40% 20%), hsl(from var(--typo3-surface-primary) h 20% 10%));
    --typo3-scaffold-sidebar-border-width: 0;

    .scaffold-sidebar {
        --typo3-icons-accent: light-dark(#bf9aff, #b68cff);
    }

    @media (min-width: 992px) {
        .scaffold-content:before {
            --size: 1rem;
            content: '';
            position: absolute;
            top: calc(var(--size) * -1);
            inset-inline-start: calc(var(--size) * -1);
            height: calc(var(--size) * 2);
            width: calc(var(--size) * 2);
            background-color: var(--typo3-scaffold-sidebar-bg);
            user-select: none;
            mask:
                radial-gradient(
                    circle at var(--typo3-position-end-percent) 100%,
                    transparent calc(var(--size) - .5px),
                    black calc(var(--size) + .5px)
                );
            z-index: calc(var(--typo3-zindex-header) + 2);
        }
    }
}

:root.t3js-disable-transitions {
    &,
    & *,
    & *:before,
    & *:after {
        transition: none !important;
    }
}

//
// Utility Variables
//
:root {
    --typo3-position-modifier: 1;
    --typo3-position-start-percent: 0%;
    --typo3-position-end-percent: 100%;
    --typo3-position-start: left;
    --typo3-position-end: right;
}

[dir="rtl"] {
    --typo3-position-modifier: -1;
    --typo3-position-start-percent: 100%;
    --typo3-position-end-percent: 0%;
    --typo3-position-start: right;
    --typo3-position-end: left;
}
