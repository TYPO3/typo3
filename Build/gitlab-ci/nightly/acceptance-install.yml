acceptance install mariadb 10.10 php 8.2 max:
  stage: acceptance
  needs: []
  only:
    - schedules
  cache:
    key: main-composer-max
    paths:
      - .cache
  artifacts:
    when: on_failure
    paths:
      - typo3temp/var/tests/AcceptanceReports
  script:
    - Build/Scripts/runTests.sh -s composerInstallMax -p 8.2
    - Build/Scripts/runTests.sh -s acceptanceInstall -d mariadb -i 10.10 -p 8.2
acceptance install mariadb 10.3 php 8.1 min:
  stage: acceptance
  needs: []
  only:
    - schedules
  cache:
    key: main-composer-min
    paths:
      - .cache
  artifacts:
    when: on_failure
    paths:
      - typo3temp/var/tests/AcceptanceReports
    reports:
      junit:
        - typo3temp/var/tests/AcceptanceReports/reports.xml
  script:
    - Build/Scripts/runTests.sh -s composerInstallMin -p 8.1
    - Build/Scripts/runTests.sh -s acceptanceInstall -d mariadb -i 10.3 -p 8.1

acceptance install mysql 8.0 php 8.2 max:
  stage: acceptance
  needs: []
  only:
    - schedules
  cache:
    key: main-composer-max
    paths:
      - .cache
  artifacts:
    when: on_failure
    paths:
      - typo3temp/var/tests/AcceptanceReports
    reports:
      junit:
        - typo3temp/var/tests/AcceptanceReports/reports.xml
  script:
    - Build/Scripts/runTests.sh -s composerInstallMax -p 8.2
    - Build/Scripts/runTests.sh -s acceptanceInstall -d mysql -j 8.0 -p 8.2
acceptance install mysql 8.0 php 8.1 min:
  stage: acceptance
  needs: []
  only:
    - schedules
  cache:
    key: main-composer-min
    paths:
      - .cache
  artifacts:
    when: on_failure
    paths:
      - typo3temp/var/tests/AcceptanceReports
    reports:
      junit:
        - typo3temp/var/tests/AcceptanceReports/reports.xml
  script:
    - Build/Scripts/runTests.sh -s composerInstallMin -p 8.1
    - Build/Scripts/runTests.sh -s acceptanceInstall -d mysql -j 8.0 -p 8.1

acceptance install postgres 15 php 8.2 max:
  stage: acceptance
  needs: []
  only:
    - schedules
  cache:
    key: main-composer-max
    paths:
      - .cache
  artifacts:
    when: on_failure
    paths:
      - typo3temp/var/tests/AcceptanceReports
    reports:
      junit:
        - typo3temp/var/tests/AcceptanceReports/reports.xml
  script:
    - Build/Scripts/runTests.sh -s composerInstallMax -p 8.2
    - Build/Scripts/runTests.sh -s acceptanceInstall -d postgres -k 15 -p 8.2
acceptance install postgres 10 php 8.1 min:
  stage: acceptance
  needs: []
  only:
    - schedules
  cache:
    key: main-composer-min
    paths:
      - .cache
  artifacts:
    when: on_failure
    paths:
      - typo3temp/var/tests/AcceptanceReports
    reports:
      junit:
        - typo3temp/var/tests/AcceptanceReports/reports.xml
  script:
    - Build/Scripts/runTests.sh -s composerInstallMin -p 8.1
    - Build/Scripts/runTests.sh -s acceptanceInstall -d postgres -k 10 -p 8.1

acceptance install sqlite php 8.2 max:
  stage: acceptance
  needs: []
  only:
    - schedules
  cache:
    key: main-composer-max
    paths:
      - .cache
  artifacts:
    when: on_failure
    paths:
      - typo3temp/var/tests/AcceptanceReports
    reports:
      junit:
        - typo3temp/var/tests/AcceptanceReports/reports.xml
  script:
    - Build/Scripts/runTests.sh -s composerInstallMax -p 8.2
    - Build/Scripts/runTests.sh -s acceptanceInstall -d sqlite -p 8.2
acceptance install sqlite php 8.1 min:
  stage: acceptance
  needs: []
  only:
    - schedules
  cache:
    key: main-composer-min
    paths:
      - .cache
  artifacts:
    when: on_failure
    paths:
      - typo3temp/var/tests/AcceptanceReports
    reports:
      junit:
        - typo3temp/var/tests/AcceptanceReports/reports.xml
  script:
    - Build/Scripts/runTests.sh -s composerInstallMin -p 8.1
    - Build/Scripts/runTests.sh -s acceptanceInstall -d sqlite -p 8.1
